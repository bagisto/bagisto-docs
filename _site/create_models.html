<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Bagisto Introduction</title>
        <link rel="stylesheet" href="assets/scss/layout.css" />
        <link rel="stylesheet" href="/assets/css/syntax.css" />
        <link rel="icon" sizes="16x16" href="assets/icons/favicon.ico" />
    </head>
    <body>
        <div class="container">
            <div class="content-wrapper">
                <header class="header">
    <div class="logo-wrapper">
        <a href="/">
            <img class="logo" src="assets/images/logo.png" />
        </a>
        <span>Docs</span>
    </div>

    <nav class="menu-list">
        <ul>
            <li>
                <a class="nav-link" href="https://forums.bagisto.com/">Forum</a>
            </li>
            <li>
                <a class="nav-link" href="https://bagisto.com/en/blog/">Blogs</a>
            </li>
        </ul>
    </nav>
</header>

                <div class="content">
                    <div class="side-menu">
                        <div class="sidebar">
    <ul>
        <li class="menu-heading">
            <a href="index.html">Introduction</a>

            <div class="horizontal-rule"></div>

            <ul class="sub-menu">
                <li>
                    <a href="#requirements">Requirements</a>
                </li>

                <li>
                    <a href="#installation">Installation & configuration</a>
                </li>

                <li>
                    <a href="#directory_structure">Directory structure</a>
                </li>
            </ul>
        </li>

        <!-- Module Development -->
        <li class="menu-heading">
            <a href="create_module.html">Package development</a>
            <div class="horizontal-rule"></div>

            <ul class="sub-menu">
                <li>
                    <a href="#how-to-create-module">Creating a package</a>
                </li>

                <li>
                    <a href="#add-menu">Adding menu in backend & storefront</a>
                </li>

                <li>
                    <a href="#create-acl">Creating ACL</a>
                </li>

                <li>
                    <a href="#custom-configuration">Custom configuration</a>
                </li>

                <li>
                    <a href="#create_models">Creating models</a>

                    <ul>
                        <li>
                            <a href="">Contracts, repositories & proxies</a>
                        </li>

                        <li>
                            <a href="#store-data-through-repository">
                                Store data with repository
                            </a>
                        </li>
                    </ul>

                </li>
            </ul>
        </li>

        <!-- Advanced Topics -->

        <li class="menu-heading">
            <a href="override-core-model.html">Advance topics</a>
            <div class="horizontal-rule"></div>

            <ul class="sub-menu">
                <li>
                    <a href="override-core-model.html">Override core models</a>
                </li>

                <li>
                    <a href="create_theme.html">Creating themes</a>
                </li>

                <li>
                    <a href="create_shipping_method.html">Creating shipping method</a>
                </li>

                <li>
                    <a href="create_payment_method.html">Creating Payment method</a>
                </li>

                <li>
                    <a href="render_event.html">View render event</a>
                </li>

                <li>
                    <a href="events.html">Events</a>
                </li>

                <li>
                    <a href="listen_event.html">Listen existing events</a>
                </li>

                <li>
                    <a href="data_grid.html">Data Grid</a>
                </li>
            </ul>
        </li>
        
        <li class="menu-heading">
            <a href="bagisto_api.html">Bagisto Web APIs</a>

            <div class="horizontal-rule"></div>

            <ul class="sub-menu">
                    <!-- <li><a href="api_call_bagisto.html">Generate A Request</a></li> -->
                    <li><a href="api_category.html">Categories</a></li>
                    <li><a href="api_product.html">Products</a></li>
                    <li><a href="api_product_review.html">Product's Reviews</a></li>
                    <li><a href="api_customer.html">Customers</a></li>
                    <li><a href="api_customer_review.html">Customer's Reviews</a></li>
                    <li><a href="api_customer_addresses.html">Addresses</a></li>
                    <li><a href="api_order.html">Orders</a></li>
                    <li><a href="api_invoice_shipment.html">Invoices & Shipments</a></li>
                    <li><a href="api_cart.html">Shopping Cart</a></li>
            </ul>
        </li>
    </ul>
</div>

                    </div>

                    <div class="right-content">
                        <h1 id="what-is-contracts-repositories-and-proxies--edit-on-github">What is Contracts, Repositories and proxies ?<a id="#detail"></a><span class="edit-github"><img src="/assets/images/icons/Icon-Pencil-Large.svg" width="19px" height="13px" /> <a class="nav-link" href="https://github.com/bagisto/bagisto-docs">Edit On github</a></span></h1>

<h2 id="contracts">Contracts</h2>

<p>Laravel’s Contracts are the set of interfaces that defines the core services provided by the framework. For example, a Illuminate\Contracts\Queue\Queue contract defines the methods needed for queueing jobs, while the Illuminate\Contracts\Mail\Mailer contract defines the methods needed for sending e-mail.</p>

<p>Each contract has a corresponding implementation provided by the framework. For example, Laravel provides a queue implementation with a variety of drivers, and a mailer implementation that is powered by SwiftMailer.</p>

<p>All of the Laravel contracts live in their own GitHub repository. This provides a quick reference point for all available contracts, as well as a single, decoupled package that may be utilized by package developers.</p>

<h2 id="repositories">Repositories</h2>

<h2 id="proxies">Proxies</h2>

<h1 id="store-data-through-repository-">Store data through Repository <a id="store-data-through-repository"></a></h1>

<p>Steps to store data through repository :</p>

<ul>
  <li>Beginning with the creation of models, generally models are created using command as stated below. The model is created on specified path/location.</li>
</ul>

<blockquote>
  <p>php artisan make:model HelloWorld –path=””</p>
</blockquote>

<ul>
  <li>Now, at the same location create a model proxy file as ‘HelloWorldProxy.php’. This Proxy class will extends  ModelProxy. Also, you have to add “use Konekt\Concord\Proxies\ModelProxy; “ like below stated</li>
</ul>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">namespace</span> <span class="nx">Acme\HelloWorld\Models</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Konekt\Concord\Proxies\ModelProxy</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">DataFlowProfileProxy</span> <span class="k">extends</span> <span class="nx">ModelProxy</span>
<span class="p">{</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>
    <p>Now, make a Folder named as Contracts and inside it create a interface file named as HelloWorld.php</p>
  </li>
  <li>
    <p>Now, make a repository folder and inside it create a file ‘HelloWorldRepository.php’ and
write the model method for repository class and under the method return path of your contract class.</p>
  </li>
</ul>

<blockquote>
  <p>&lt;?php</p>
</blockquote>

<blockquote>
  <p>namespace Webkul\Marketplace\Repositories;</p>
</blockquote>

<blockquote>
  <p>use Webkul\Core\Eloquent\Repository;</p>
</blockquote>

<blockquote>
  <p>class HelloWorldRepository extends Repository</p>
</blockquote>

<blockquote>
  <p>{</p>
</blockquote>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/**
 * Specify Model class name
 *
 * @return mixed
 */ &gt;    function model()
</code></pre></div></div>

<blockquote>
  <p>{</p>
</blockquote>

<blockquote>
  <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   return 'ACME\HelloWorld\Contracts\HelloWorld';
</code></pre></div>  </div>
</blockquote>

<blockquote>
  <p>}</p>
</blockquote>

<blockquote>
  <p>}</p>
</blockquote>

<h1 id="override-existing-model-">Override Existing model <a id="override-existing-model"></a></h1>

<p>Concord is a Laravel Extension that serves as a foundation to build Modules for Laravel Applications on top of Laravel’s built in Service Providers. Bagisto uses Concord for managing their modules. The concept of model proxies has been introduced. Proxies as their name state, will drive you to the actual model class.</p>

<p>Concord’s concept also requires to have an interface <code class="highlighter-rouge">Product</code> and this way it’s possible to freely bind a concrete class to it using Concord’s <code class="highlighter-rouge">registerModel()</code> method.</p>

<p><code class="highlighter-rouge">Models\Product</code> class gets bound to the <code class="highlighter-rouge">Contracts\Product</code> interface within the module (consider it as a default). If the application wants to extend that class, it invokes Concord’s <code class="highlighter-rouge">registerModel()</code> again, and that’s all.</p>

<p>The <code class="highlighter-rouge">registerModel()</code> method also silently binds the interface to the implementation with Laravel’s service container so you can simply type hint the interface at any point where automatic injection happens.</p>

<p>Overriding Model class in application:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>namespace App\Providers;

use Illuminate\Support\ServiceProvider;
use Vendor\ProductModule\Contracts\Product as ProductContract;

class AppServiceProvider extends ServiceProvider
{

    /**
    * Bootstrap any application services.
    *
    * @return void
    */
    public function boot()
    {
        $this-&gt;app-&gt;concord-&gt;registerModel(
            ProductContract::class, \App\Product::class
        );
    }
}
</code></pre></div></div>

                    </div>
                </div>
            </div>
        </div>
    </body>
</html>