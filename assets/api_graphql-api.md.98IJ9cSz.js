import{_ as a,a as i,o as e,ag as t}from"./chunks/framework.C2qfZH9T.js";const c=JSON.parse('{"title":"GraphQL API","description":"","frontmatter":{},"headers":[],"relativePath":"api/graphql-api.md","filePath":"api/graphql-api.md","lastUpdated":1757593878000}'),n={name:"api/graphql-api.md"};function l(p,s,h,r,o,d){return e(),i("div",null,s[0]||(s[0]=[t(`<h1 id="graphql-api" tabindex="-1">GraphQL API <a class="header-anchor" href="#graphql-api" aria-label="Permalink to &quot;GraphQL API&quot;">‚Äã</a></h1><p>Bagisto&#39;s GraphQL API delivers a modern, flexible approach to e-commerce data access. Built on Laravel Lighthouse, it provides efficient querying capabilities perfect for headless commerce, mobile apps, and modern frontend frameworks.</p><h2 id="üöÄ-quick-start" tabindex="-1">üöÄ Quick Start <a class="header-anchor" href="#üöÄ-quick-start" aria-label="Permalink to &quot;üöÄ Quick Start&quot;">‚Äã</a></h2><h3 id="live-demo" tabindex="-1">Live Demo <a class="header-anchor" href="#live-demo" aria-label="Permalink to &quot;Live Demo&quot;">‚Äã</a></h3><p>Experience the power of GraphQL with our interactive demo:</p><p>üåê <a href="https://demo.bagisto.com/mobikul-common/graphiql" target="_blank" rel="noreferrer"><strong>GraphQL API Demo</strong></a> - Test queries and explore the schema in real-time</p><div class="tip custom-block"><p class="custom-block-title">Interactive Playground</p><p>The demo includes GraphiQL playground where you can write queries, explore documentation, and see real-time results.</p></div><h2 id="üì¶-installation" tabindex="-1">üì¶ Installation <a class="header-anchor" href="#üì¶-installation" aria-label="Permalink to &quot;üì¶ Installation&quot;">‚Äã</a></h2><h3 id="step-1-install-the-package" tabindex="-1">Step 1: Install the Package <a class="header-anchor" href="#step-1-install-the-package" aria-label="Permalink to &quot;Step 1: Install the Package&quot;">‚Äã</a></h3><p>Install the GraphQL API package via Composer:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">composer</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> require</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bagisto/graphql-api</span></span></code></pre></div><h3 id="step-2-configure-middleware" tabindex="-1">Step 2: Configure Middleware <a class="header-anchor" href="#step-2-configure-middleware" aria-label="Permalink to &quot;Step 2: Configure Middleware&quot;">‚Äã</a></h3><p>Update your <code>bootstrap/app.php</code> file to ensure proper session handling:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">use</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Illuminate\\Session\\Middleware\\StartSession</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">use</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Application</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">configure</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">basePath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">dirname</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">__DIR__</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">   -&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">withMiddleware</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Middleware</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $middleware) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // ... rest of middleware setup</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      /**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">       * Remove session and cookie middleware from the &#39;web&#39; middleware group.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">       */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      $middleware</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">removeFromGroup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;web&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">StartSession</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AddQueuedCookiesToResponse</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      /**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">       * Adding session and cookie middleware globally to apply across non-web routes (e.g. GraphQL)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">       */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      $middleware</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">append</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">StartSession</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AddQueuedCookiesToResponse</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   })</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   // ... rest of configuration</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">Important Configuration</p><p>This middleware configuration ensures sessions work properly with GraphQL endpoints, which is essential for authentication and cart management.</p></div><h3 id="step-3-environment-configuration" tabindex="-1">Step 3: Environment Configuration <a class="header-anchor" href="#step-3-environment-configuration" aria-label="Permalink to &quot;Step 3: Environment Configuration&quot;">‚Äã</a></h3><p>Add the following JWT settings to your <code>.env</code> file:</p><div class="language-properties vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">properties</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># JWT Configuration for GraphQL API</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">JWT_TTL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=525600</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">JWT_SHOW_BLACKLIST_EXCEPTION</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># API Key for mobile/frontend authentication</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">MOBIKUL_API_KEY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=your-secure-api-key-here</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">Security Best Practice</p><p>Generate a strong, unique API key for production environments. This key should be kept secure and only shared with your development team.</p></div><h3 id="step-4-install-and-publish-assets" tabindex="-1">Step 4: Install and Publish Assets <a class="header-anchor" href="#step-4-install-and-publish-assets" aria-label="Permalink to &quot;Step 4: Install and Publish Assets&quot;">‚Äã</a></h3><p>Run the installation command to set up configurations:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">php</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> artisan</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bagisto-graphql:install</span></span></code></pre></div><p>This command will:</p><ul><li>Publish GraphQL schema files</li><li>Set up authentication routes</li><li>Configure GraphiQL playground</li></ul><h2 id="üîß-testing-your-setup" tabindex="-1">üîß Testing Your Setup <a class="header-anchor" href="#üîß-testing-your-setup" aria-label="Permalink to &quot;üîß Testing Your Setup&quot;">‚Äã</a></h2><h3 id="graphiql-playground" tabindex="-1">GraphiQL Playground <a class="header-anchor" href="#graphiql-playground" aria-label="Permalink to &quot;GraphiQL Playground&quot;">‚Äã</a></h3><p>Access the interactive GraphQL playground:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>http://your-domain.com/graphiql</span></span></code></pre></div><h3 id="direct-api-endpoint" tabindex="-1">Direct API Endpoint <a class="header-anchor" href="#direct-api-endpoint" aria-label="Permalink to &quot;Direct API Endpoint&quot;">‚Äã</a></h3><p>For programmatic access or tools like Postman:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>http://your-domain.com/graphql</span></span></code></pre></div><h2 id="üîó-next-steps" tabindex="-1">üîó Next Steps <a class="header-anchor" href="#üîó-next-steps" aria-label="Permalink to &quot;üîó Next Steps&quot;">‚Äã</a></h2><p>Ready to build with GraphQL? Here are your next steps:</p><ul><li>üéÆ <a href="https://demo.bagisto.com/mobikul-common/graphiql" target="_blank" rel="noreferrer"><strong>Try the Live Demo</strong></a></li></ul><div class="tip custom-block"><p class="custom-block-title">Need Traditional REST?</p><p>If you prefer traditional REST endpoints, check out our <a href="./rest-api.html">REST API</a> documentation.</p></div>`,35)]))}const g=a(n,[["render",l]]);export{c as __pageData,g as default};
