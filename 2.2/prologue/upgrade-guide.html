<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Upgrade Guide | Bagisto Documentation</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" type="image/png" href="/favicon.ico">
    <meta name="description" content="Bagisto Developer Portal">
    
    <link rel="preload" href="/assets/css/0.styles.0fa56194.css" as="style"><link rel="preload" href="/assets/js/app.ebd8e8a1.js" as="script"><link rel="preload" href="/assets/js/2.1fed2c7a.js" as="script"><link rel="preload" href="/assets/js/1.4392f29c.js" as="script"><link rel="preload" href="/assets/js/307.eba06f31.js" as="script"><link rel="prefetch" href="/assets/js/10.f9029f9e.js"><link rel="prefetch" href="/assets/js/100.29daf547.js"><link rel="prefetch" href="/assets/js/101.cd4265bc.js"><link rel="prefetch" href="/assets/js/102.11f2aa3b.js"><link rel="prefetch" href="/assets/js/103.784b6bb2.js"><link rel="prefetch" href="/assets/js/104.adf2c97b.js"><link rel="prefetch" href="/assets/js/105.58b0ec1e.js"><link rel="prefetch" href="/assets/js/106.f9c01f7a.js"><link rel="prefetch" href="/assets/js/107.2979454d.js"><link rel="prefetch" href="/assets/js/108.62ba93a6.js"><link rel="prefetch" href="/assets/js/109.e27626a2.js"><link rel="prefetch" href="/assets/js/11.7959a958.js"><link rel="prefetch" href="/assets/js/110.18702238.js"><link rel="prefetch" href="/assets/js/111.39378618.js"><link rel="prefetch" href="/assets/js/112.f2fac389.js"><link rel="prefetch" href="/assets/js/113.27867761.js"><link rel="prefetch" href="/assets/js/114.68125512.js"><link rel="prefetch" href="/assets/js/115.733b2d01.js"><link rel="prefetch" href="/assets/js/116.1a80f1d4.js"><link rel="prefetch" href="/assets/js/117.1676cc06.js"><link rel="prefetch" href="/assets/js/118.e34f03ee.js"><link rel="prefetch" href="/assets/js/119.894a5223.js"><link rel="prefetch" href="/assets/js/12.9d48d357.js"><link rel="prefetch" href="/assets/js/120.5ad51a35.js"><link rel="prefetch" href="/assets/js/121.e8677929.js"><link rel="prefetch" href="/assets/js/122.ca01e88e.js"><link rel="prefetch" href="/assets/js/123.fb9979be.js"><link rel="prefetch" href="/assets/js/124.50c5895b.js"><link rel="prefetch" href="/assets/js/125.3d467cdc.js"><link rel="prefetch" href="/assets/js/126.9b865e5c.js"><link rel="prefetch" href="/assets/js/127.4bc6acee.js"><link rel="prefetch" href="/assets/js/128.7d1caa54.js"><link rel="prefetch" href="/assets/js/129.68ecdef5.js"><link rel="prefetch" href="/assets/js/13.4d64843a.js"><link rel="prefetch" href="/assets/js/130.2d4e1065.js"><link rel="prefetch" href="/assets/js/131.5d021eea.js"><link rel="prefetch" href="/assets/js/132.5b024d29.js"><link rel="prefetch" href="/assets/js/133.71056d64.js"><link rel="prefetch" href="/assets/js/134.9e8d0944.js"><link rel="prefetch" href="/assets/js/135.00ff45e7.js"><link rel="prefetch" href="/assets/js/136.167ef846.js"><link rel="prefetch" href="/assets/js/137.b5b5adb1.js"><link rel="prefetch" href="/assets/js/138.55c7b33c.js"><link rel="prefetch" href="/assets/js/139.541279c7.js"><link rel="prefetch" href="/assets/js/14.2bddcb63.js"><link rel="prefetch" href="/assets/js/140.ce429419.js"><link rel="prefetch" href="/assets/js/141.4b042915.js"><link rel="prefetch" href="/assets/js/142.3d6a57c3.js"><link rel="prefetch" href="/assets/js/143.df7bc5e1.js"><link rel="prefetch" href="/assets/js/144.1a8a4a5e.js"><link rel="prefetch" href="/assets/js/145.b13300bb.js"><link rel="prefetch" href="/assets/js/146.3a6974d5.js"><link rel="prefetch" href="/assets/js/147.969d3cbc.js"><link rel="prefetch" href="/assets/js/148.5ca51bc0.js"><link rel="prefetch" href="/assets/js/149.5a1abd2a.js"><link rel="prefetch" href="/assets/js/15.c76491bb.js"><link rel="prefetch" href="/assets/js/150.7078438a.js"><link rel="prefetch" href="/assets/js/151.8130ade5.js"><link rel="prefetch" href="/assets/js/152.693a2f2b.js"><link rel="prefetch" href="/assets/js/153.efa7fed1.js"><link rel="prefetch" href="/assets/js/154.826beca5.js"><link rel="prefetch" href="/assets/js/155.21c83d27.js"><link rel="prefetch" href="/assets/js/156.e504e0ec.js"><link rel="prefetch" href="/assets/js/157.66f09c57.js"><link rel="prefetch" href="/assets/js/158.48122fe2.js"><link rel="prefetch" href="/assets/js/159.2611278f.js"><link rel="prefetch" href="/assets/js/16.37c62368.js"><link rel="prefetch" href="/assets/js/160.6b211a7c.js"><link rel="prefetch" href="/assets/js/161.5ad7e9a2.js"><link rel="prefetch" href="/assets/js/162.7f7425d4.js"><link rel="prefetch" href="/assets/js/163.50b232b1.js"><link rel="prefetch" href="/assets/js/164.544384da.js"><link rel="prefetch" href="/assets/js/165.3e72b0a8.js"><link rel="prefetch" href="/assets/js/166.3bda4ddd.js"><link rel="prefetch" href="/assets/js/167.f3fc53cc.js"><link rel="prefetch" href="/assets/js/168.b8c2173f.js"><link rel="prefetch" href="/assets/js/169.36ee61d2.js"><link rel="prefetch" href="/assets/js/17.fb06eda4.js"><link rel="prefetch" href="/assets/js/170.3582cda0.js"><link rel="prefetch" href="/assets/js/171.974bfb49.js"><link rel="prefetch" href="/assets/js/172.b8781ccf.js"><link rel="prefetch" href="/assets/js/173.fa490af1.js"><link rel="prefetch" href="/assets/js/174.4082b008.js"><link rel="prefetch" href="/assets/js/175.c0f6c858.js"><link rel="prefetch" href="/assets/js/176.63694e27.js"><link rel="prefetch" href="/assets/js/177.b4fec5ae.js"><link rel="prefetch" href="/assets/js/178.5479945b.js"><link rel="prefetch" href="/assets/js/179.7b123558.js"><link rel="prefetch" href="/assets/js/18.ae841710.js"><link rel="prefetch" href="/assets/js/180.fc9c1fd1.js"><link rel="prefetch" href="/assets/js/181.1471a37a.js"><link rel="prefetch" href="/assets/js/182.fd6da21f.js"><link rel="prefetch" href="/assets/js/183.0cbcb3ed.js"><link rel="prefetch" href="/assets/js/184.351505af.js"><link rel="prefetch" href="/assets/js/185.97dff840.js"><link rel="prefetch" href="/assets/js/186.1ebce021.js"><link rel="prefetch" href="/assets/js/187.48163b39.js"><link rel="prefetch" href="/assets/js/188.b889ae8d.js"><link rel="prefetch" href="/assets/js/189.6514f660.js"><link rel="prefetch" href="/assets/js/19.2f450cee.js"><link rel="prefetch" href="/assets/js/190.b46a04c2.js"><link rel="prefetch" href="/assets/js/191.6c8b2986.js"><link rel="prefetch" href="/assets/js/192.8aa4d025.js"><link rel="prefetch" href="/assets/js/193.aa608059.js"><link rel="prefetch" href="/assets/js/194.a4d9f353.js"><link rel="prefetch" href="/assets/js/195.676d0801.js"><link rel="prefetch" href="/assets/js/196.0778ce49.js"><link rel="prefetch" href="/assets/js/197.8a1cf3d3.js"><link rel="prefetch" href="/assets/js/198.3d807cb2.js"><link rel="prefetch" href="/assets/js/199.1df603c4.js"><link rel="prefetch" href="/assets/js/20.8cb67973.js"><link rel="prefetch" href="/assets/js/200.99a7415c.js"><link rel="prefetch" href="/assets/js/201.13914ca6.js"><link rel="prefetch" href="/assets/js/202.5e35e62b.js"><link rel="prefetch" href="/assets/js/203.25faf6bb.js"><link rel="prefetch" href="/assets/js/204.63467039.js"><link rel="prefetch" href="/assets/js/205.be39cfb8.js"><link rel="prefetch" href="/assets/js/206.a3b7f347.js"><link rel="prefetch" href="/assets/js/207.1fedae68.js"><link rel="prefetch" href="/assets/js/208.e5b4f2fa.js"><link rel="prefetch" href="/assets/js/209.572f001c.js"><link rel="prefetch" href="/assets/js/21.92fe68b1.js"><link rel="prefetch" href="/assets/js/210.7694372c.js"><link rel="prefetch" href="/assets/js/211.b217747d.js"><link rel="prefetch" href="/assets/js/212.f743fce0.js"><link rel="prefetch" href="/assets/js/213.530b7706.js"><link rel="prefetch" href="/assets/js/214.f955fd7e.js"><link rel="prefetch" href="/assets/js/215.2af9d692.js"><link rel="prefetch" href="/assets/js/216.5e5ef060.js"><link rel="prefetch" href="/assets/js/217.a118043d.js"><link rel="prefetch" href="/assets/js/218.dcbe3dcb.js"><link rel="prefetch" href="/assets/js/219.b0cbdffd.js"><link rel="prefetch" href="/assets/js/22.531b3bbc.js"><link rel="prefetch" href="/assets/js/220.1161f556.js"><link rel="prefetch" href="/assets/js/221.00367964.js"><link rel="prefetch" href="/assets/js/222.bfbe1f29.js"><link rel="prefetch" href="/assets/js/223.30d6d935.js"><link rel="prefetch" href="/assets/js/224.27bfc11e.js"><link rel="prefetch" href="/assets/js/225.b8c3b871.js"><link rel="prefetch" href="/assets/js/226.2e5ca8ac.js"><link rel="prefetch" href="/assets/js/227.74ff2a07.js"><link rel="prefetch" href="/assets/js/228.390fc95a.js"><link rel="prefetch" href="/assets/js/229.97d11f0b.js"><link rel="prefetch" href="/assets/js/23.e46788c2.js"><link rel="prefetch" href="/assets/js/230.5a14040d.js"><link rel="prefetch" href="/assets/js/231.b386be29.js"><link rel="prefetch" href="/assets/js/232.e383c1d3.js"><link rel="prefetch" href="/assets/js/233.5da3f8d2.js"><link rel="prefetch" href="/assets/js/234.d95de535.js"><link rel="prefetch" href="/assets/js/235.255bed37.js"><link rel="prefetch" href="/assets/js/236.34c1ae39.js"><link rel="prefetch" href="/assets/js/237.211c74c9.js"><link rel="prefetch" href="/assets/js/238.c83894d0.js"><link rel="prefetch" href="/assets/js/239.2d21b682.js"><link rel="prefetch" href="/assets/js/24.60661419.js"><link rel="prefetch" href="/assets/js/240.f49b322e.js"><link rel="prefetch" href="/assets/js/241.ea9d4e23.js"><link rel="prefetch" href="/assets/js/242.6cc0fe92.js"><link rel="prefetch" href="/assets/js/243.b74e329a.js"><link rel="prefetch" href="/assets/js/244.65cec6d6.js"><link rel="prefetch" href="/assets/js/245.d09598f4.js"><link rel="prefetch" href="/assets/js/246.44c85d67.js"><link rel="prefetch" href="/assets/js/247.a0d317bc.js"><link rel="prefetch" href="/assets/js/248.11ffd499.js"><link rel="prefetch" href="/assets/js/249.20e507d2.js"><link rel="prefetch" href="/assets/js/25.68502f1c.js"><link rel="prefetch" href="/assets/js/250.e1e0406e.js"><link rel="prefetch" href="/assets/js/251.db781b1d.js"><link rel="prefetch" href="/assets/js/252.2617acd2.js"><link rel="prefetch" href="/assets/js/253.bbf3dbce.js"><link rel="prefetch" href="/assets/js/254.273fe770.js"><link rel="prefetch" href="/assets/js/255.5c26a9c2.js"><link rel="prefetch" href="/assets/js/256.2971332e.js"><link rel="prefetch" href="/assets/js/257.15c700e7.js"><link rel="prefetch" href="/assets/js/258.2f9695fc.js"><link rel="prefetch" href="/assets/js/259.ca875936.js"><link rel="prefetch" href="/assets/js/26.b34804d7.js"><link rel="prefetch" href="/assets/js/260.ba9a36fc.js"><link rel="prefetch" href="/assets/js/261.f8b6fc63.js"><link rel="prefetch" href="/assets/js/262.d4b13cbe.js"><link rel="prefetch" href="/assets/js/263.816aef66.js"><link rel="prefetch" href="/assets/js/264.33f414e9.js"><link rel="prefetch" href="/assets/js/265.d5f7d092.js"><link rel="prefetch" href="/assets/js/266.368bb2ea.js"><link rel="prefetch" href="/assets/js/267.99e115af.js"><link rel="prefetch" href="/assets/js/268.25a3697a.js"><link rel="prefetch" href="/assets/js/269.507c6cd6.js"><link rel="prefetch" href="/assets/js/27.68f8d93e.js"><link rel="prefetch" href="/assets/js/270.223112d0.js"><link rel="prefetch" href="/assets/js/271.8da7f799.js"><link rel="prefetch" href="/assets/js/272.b0e97cbd.js"><link rel="prefetch" href="/assets/js/273.f086ce75.js"><link rel="prefetch" href="/assets/js/274.728f7942.js"><link rel="prefetch" href="/assets/js/275.2c542cef.js"><link rel="prefetch" href="/assets/js/276.94be5771.js"><link rel="prefetch" href="/assets/js/277.9c767f8b.js"><link rel="prefetch" href="/assets/js/278.c25e2f2e.js"><link rel="prefetch" href="/assets/js/279.af5818ae.js"><link rel="prefetch" href="/assets/js/28.cf5064ba.js"><link rel="prefetch" href="/assets/js/280.5142d1c5.js"><link rel="prefetch" href="/assets/js/281.a836e3f6.js"><link rel="prefetch" href="/assets/js/282.56c65da7.js"><link rel="prefetch" href="/assets/js/283.8e67b045.js"><link rel="prefetch" href="/assets/js/284.efbc748c.js"><link rel="prefetch" href="/assets/js/285.87b99be6.js"><link rel="prefetch" href="/assets/js/286.057d6243.js"><link rel="prefetch" href="/assets/js/287.09b361c9.js"><link rel="prefetch" href="/assets/js/288.92ebb47d.js"><link rel="prefetch" href="/assets/js/289.a1353900.js"><link rel="prefetch" href="/assets/js/29.791d5724.js"><link rel="prefetch" href="/assets/js/290.93e0b4e7.js"><link rel="prefetch" href="/assets/js/291.c5ab4ef9.js"><link rel="prefetch" href="/assets/js/292.6e2ba215.js"><link rel="prefetch" href="/assets/js/293.c8ea6156.js"><link rel="prefetch" href="/assets/js/294.a564bbc3.js"><link rel="prefetch" href="/assets/js/295.024b4e7a.js"><link rel="prefetch" href="/assets/js/296.54a0a5fc.js"><link rel="prefetch" href="/assets/js/297.e80fc43f.js"><link rel="prefetch" href="/assets/js/298.e4b6812d.js"><link rel="prefetch" href="/assets/js/299.c332d86a.js"><link rel="prefetch" href="/assets/js/3.b12564c0.js"><link rel="prefetch" href="/assets/js/30.a6e00b2d.js"><link rel="prefetch" href="/assets/js/300.856d0928.js"><link rel="prefetch" href="/assets/js/301.7c240b3e.js"><link rel="prefetch" href="/assets/js/302.96a95e18.js"><link rel="prefetch" href="/assets/js/303.5630df75.js"><link rel="prefetch" href="/assets/js/304.6d704635.js"><link rel="prefetch" href="/assets/js/305.b756f5ea.js"><link rel="prefetch" href="/assets/js/306.606a1b22.js"><link rel="prefetch" href="/assets/js/308.e6177c27.js"><link rel="prefetch" href="/assets/js/309.999df6f1.js"><link rel="prefetch" href="/assets/js/31.a97977ef.js"><link rel="prefetch" href="/assets/js/310.79581fd3.js"><link rel="prefetch" href="/assets/js/311.40471233.js"><link rel="prefetch" href="/assets/js/312.a2df7038.js"><link rel="prefetch" href="/assets/js/313.7eeacda3.js"><link rel="prefetch" href="/assets/js/314.efb9ff22.js"><link rel="prefetch" href="/assets/js/315.d11aec6b.js"><link rel="prefetch" href="/assets/js/316.11f231aa.js"><link rel="prefetch" href="/assets/js/317.41296b04.js"><link rel="prefetch" href="/assets/js/318.64904d65.js"><link rel="prefetch" href="/assets/js/319.8f606642.js"><link rel="prefetch" href="/assets/js/32.8f949f04.js"><link rel="prefetch" href="/assets/js/320.6ff60b6c.js"><link rel="prefetch" href="/assets/js/321.e7eaee8c.js"><link rel="prefetch" href="/assets/js/322.9e492a72.js"><link rel="prefetch" href="/assets/js/323.a4acd04a.js"><link rel="prefetch" href="/assets/js/324.56b7253f.js"><link rel="prefetch" href="/assets/js/325.d52e94aa.js"><link rel="prefetch" href="/assets/js/326.fe8c409d.js"><link rel="prefetch" href="/assets/js/327.7ea3cd83.js"><link rel="prefetch" href="/assets/js/328.f2a93c98.js"><link rel="prefetch" href="/assets/js/329.81a01a89.js"><link rel="prefetch" href="/assets/js/33.0b4e8494.js"><link rel="prefetch" href="/assets/js/330.da84ff93.js"><link rel="prefetch" href="/assets/js/331.a3a24d36.js"><link rel="prefetch" href="/assets/js/332.9da83a1d.js"><link rel="prefetch" href="/assets/js/333.fc5ed929.js"><link rel="prefetch" href="/assets/js/334.c823496a.js"><link rel="prefetch" href="/assets/js/335.1d899860.js"><link rel="prefetch" href="/assets/js/336.d514ac8f.js"><link rel="prefetch" href="/assets/js/337.a826da3b.js"><link rel="prefetch" href="/assets/js/338.5984711e.js"><link rel="prefetch" href="/assets/js/339.c96266bc.js"><link rel="prefetch" href="/assets/js/34.6691983d.js"><link rel="prefetch" href="/assets/js/340.c85181e2.js"><link rel="prefetch" href="/assets/js/341.6f6e8249.js"><link rel="prefetch" href="/assets/js/342.44284e35.js"><link rel="prefetch" href="/assets/js/343.d547a759.js"><link rel="prefetch" href="/assets/js/344.ce864824.js"><link rel="prefetch" href="/assets/js/345.f3bdb245.js"><link rel="prefetch" href="/assets/js/346.4f7d24e6.js"><link rel="prefetch" href="/assets/js/347.8c5d5465.js"><link rel="prefetch" href="/assets/js/348.4d86c418.js"><link rel="prefetch" href="/assets/js/349.eb97cb11.js"><link rel="prefetch" href="/assets/js/35.065e17a9.js"><link rel="prefetch" href="/assets/js/350.13055899.js"><link rel="prefetch" href="/assets/js/351.bb0d8c85.js"><link rel="prefetch" href="/assets/js/352.c2e4dd34.js"><link rel="prefetch" href="/assets/js/353.026a4d49.js"><link rel="prefetch" href="/assets/js/354.0a1c745c.js"><link rel="prefetch" href="/assets/js/355.c7a50fda.js"><link rel="prefetch" href="/assets/js/356.42edb6fb.js"><link rel="prefetch" href="/assets/js/357.34853409.js"><link rel="prefetch" href="/assets/js/358.f8629959.js"><link rel="prefetch" href="/assets/js/359.233dc943.js"><link rel="prefetch" href="/assets/js/36.073a19fe.js"><link rel="prefetch" href="/assets/js/360.a99bc0bf.js"><link rel="prefetch" href="/assets/js/361.39d3a693.js"><link rel="prefetch" href="/assets/js/362.1f212e8b.js"><link rel="prefetch" href="/assets/js/363.86f70846.js"><link rel="prefetch" href="/assets/js/364.2a88a9ea.js"><link rel="prefetch" href="/assets/js/365.2c71f455.js"><link rel="prefetch" href="/assets/js/366.dd4a5d04.js"><link rel="prefetch" href="/assets/js/367.46fa3339.js"><link rel="prefetch" href="/assets/js/368.e75a719e.js"><link rel="prefetch" href="/assets/js/369.9b32122c.js"><link rel="prefetch" href="/assets/js/37.a178ef3d.js"><link rel="prefetch" href="/assets/js/370.bd55d635.js"><link rel="prefetch" href="/assets/js/371.5f3bb1b0.js"><link rel="prefetch" href="/assets/js/372.79f9d8f3.js"><link rel="prefetch" href="/assets/js/373.ad4a4c4c.js"><link rel="prefetch" href="/assets/js/374.114b1cf3.js"><link rel="prefetch" href="/assets/js/375.019bec90.js"><link rel="prefetch" href="/assets/js/376.035466bc.js"><link rel="prefetch" href="/assets/js/377.93300725.js"><link rel="prefetch" href="/assets/js/378.53f864b3.js"><link rel="prefetch" href="/assets/js/379.647459bf.js"><link rel="prefetch" href="/assets/js/38.2ef28003.js"><link rel="prefetch" href="/assets/js/380.6c2f7df0.js"><link rel="prefetch" href="/assets/js/381.b2f3c15d.js"><link rel="prefetch" href="/assets/js/382.90d1e43f.js"><link rel="prefetch" href="/assets/js/383.01dce651.js"><link rel="prefetch" href="/assets/js/384.f25286c1.js"><link rel="prefetch" href="/assets/js/385.ec7bc079.js"><link rel="prefetch" href="/assets/js/386.52db8f65.js"><link rel="prefetch" href="/assets/js/387.71c7d0e7.js"><link rel="prefetch" href="/assets/js/388.a723db2a.js"><link rel="prefetch" href="/assets/js/389.607f3ab5.js"><link rel="prefetch" href="/assets/js/39.3c71bde3.js"><link rel="prefetch" href="/assets/js/390.64699ee0.js"><link rel="prefetch" href="/assets/js/391.3f9ccac4.js"><link rel="prefetch" href="/assets/js/392.44e544fd.js"><link rel="prefetch" href="/assets/js/393.c356437c.js"><link rel="prefetch" href="/assets/js/394.28f810ce.js"><link rel="prefetch" href="/assets/js/395.d75fb7ea.js"><link rel="prefetch" href="/assets/js/396.e92123fb.js"><link rel="prefetch" href="/assets/js/397.64144fe7.js"><link rel="prefetch" href="/assets/js/398.fffd04b1.js"><link rel="prefetch" href="/assets/js/399.93a226a5.js"><link rel="prefetch" href="/assets/js/4.1dd95669.js"><link rel="prefetch" href="/assets/js/40.71bd215a.js"><link rel="prefetch" href="/assets/js/400.a8203adf.js"><link rel="prefetch" href="/assets/js/401.ac2c1954.js"><link rel="prefetch" href="/assets/js/402.dbf6469a.js"><link rel="prefetch" href="/assets/js/403.56997208.js"><link rel="prefetch" href="/assets/js/404.3cbfa136.js"><link rel="prefetch" href="/assets/js/405.1e20db79.js"><link rel="prefetch" href="/assets/js/406.3f369709.js"><link rel="prefetch" href="/assets/js/41.a4fc4914.js"><link rel="prefetch" href="/assets/js/42.6a4a56f3.js"><link rel="prefetch" href="/assets/js/43.fa2ec22a.js"><link rel="prefetch" href="/assets/js/44.12526b15.js"><link rel="prefetch" href="/assets/js/45.26d960bc.js"><link rel="prefetch" href="/assets/js/46.a0ebb687.js"><link rel="prefetch" href="/assets/js/47.c92f37b9.js"><link rel="prefetch" href="/assets/js/48.8aecabe9.js"><link rel="prefetch" href="/assets/js/49.fcf1ec9e.js"><link rel="prefetch" href="/assets/js/5.98c7ee6e.js"><link rel="prefetch" href="/assets/js/50.205feedd.js"><link rel="prefetch" href="/assets/js/51.f2777d93.js"><link rel="prefetch" href="/assets/js/52.53e38961.js"><link rel="prefetch" href="/assets/js/53.0610a0a8.js"><link rel="prefetch" href="/assets/js/54.d77e3c0d.js"><link rel="prefetch" href="/assets/js/55.df04e0ea.js"><link rel="prefetch" href="/assets/js/56.b6c3b376.js"><link rel="prefetch" href="/assets/js/57.f3ef6375.js"><link rel="prefetch" href="/assets/js/58.a5d685a8.js"><link rel="prefetch" href="/assets/js/59.e7267a44.js"><link rel="prefetch" href="/assets/js/60.d8a973f5.js"><link rel="prefetch" href="/assets/js/61.2ddf12dd.js"><link rel="prefetch" href="/assets/js/62.610e55a4.js"><link rel="prefetch" href="/assets/js/63.6b842ec7.js"><link rel="prefetch" href="/assets/js/64.c95f9bb9.js"><link rel="prefetch" href="/assets/js/65.a4719dc0.js"><link rel="prefetch" href="/assets/js/66.881125f0.js"><link rel="prefetch" href="/assets/js/67.b7990b05.js"><link rel="prefetch" href="/assets/js/68.4e2acaeb.js"><link rel="prefetch" href="/assets/js/69.4d4a5a01.js"><link rel="prefetch" href="/assets/js/70.2ec3826f.js"><link rel="prefetch" href="/assets/js/71.dd71ce6c.js"><link rel="prefetch" href="/assets/js/72.d4c56018.js"><link rel="prefetch" href="/assets/js/73.5de5e2b3.js"><link rel="prefetch" href="/assets/js/74.9e860042.js"><link rel="prefetch" href="/assets/js/75.4a4c6ff7.js"><link rel="prefetch" href="/assets/js/76.008785c1.js"><link rel="prefetch" href="/assets/js/77.a7f266b7.js"><link rel="prefetch" href="/assets/js/78.424db593.js"><link rel="prefetch" href="/assets/js/79.858bf391.js"><link rel="prefetch" href="/assets/js/8.b00e59ed.js"><link rel="prefetch" href="/assets/js/80.ea72237b.js"><link rel="prefetch" href="/assets/js/81.acd0cbfa.js"><link rel="prefetch" href="/assets/js/82.585d3f8b.js"><link rel="prefetch" href="/assets/js/83.08f9273d.js"><link rel="prefetch" href="/assets/js/84.b078face.js"><link rel="prefetch" href="/assets/js/85.6706191f.js"><link rel="prefetch" href="/assets/js/86.0e13d806.js"><link rel="prefetch" href="/assets/js/87.cf09b7e6.js"><link rel="prefetch" href="/assets/js/88.4656015f.js"><link rel="prefetch" href="/assets/js/89.b9b983c8.js"><link rel="prefetch" href="/assets/js/9.2b849020.js"><link rel="prefetch" href="/assets/js/90.328c660f.js"><link rel="prefetch" href="/assets/js/91.ebc24672.js"><link rel="prefetch" href="/assets/js/92.158789e2.js"><link rel="prefetch" href="/assets/js/93.692b62d9.js"><link rel="prefetch" href="/assets/js/94.1cb9fb41.js"><link rel="prefetch" href="/assets/js/95.0ae35522.js"><link rel="prefetch" href="/assets/js/96.6464b63c.js"><link rel="prefetch" href="/assets/js/97.e238ef78.js"><link rel="prefetch" href="/assets/js/98.711ac16c.js"><link rel="prefetch" href="/assets/js/99.271e193f.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.a2297aec.js">
    <link rel="stylesheet" href="/assets/css/0.styles.0fa56194.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><div class="top-nav"><div class="nav-text"></div></div> <header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="Bagisto Documentation" class="logo"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://docs.bagisto.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  User Guide
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://bagisto.com/en/extensions/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Extensions
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://forums.bagisto.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Community Forum
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/bagisto/bagisto" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute to Bagisto
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://bagisto.com/en/contacts/" target="_blank" rel="noopener noreferrer" class="nav-item">
    Contact Us
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <div class="nav-item"><select><option value="master">Master</option> <option value="2.2" selected="selected">2.2</option> <option value="2.1">2.1</option> <option value="2.0">2.0</option> <option value="1.5.x">1.5.x</option> <option value="1.x">1.x</option></select></div></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://docs.bagisto.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  User Guide
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://bagisto.com/en/extensions/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Extensions
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://forums.bagisto.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Community Forum
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/bagisto/bagisto" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute to Bagisto
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://bagisto.com/en/contacts/" target="_blank" rel="noopener noreferrer" class="nav-item">
    Contact Us
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <div class="nav-item"><select><option value="master">Master</option> <option value="2.2" selected="selected">2.2</option> <option value="2.1">2.1</option> <option value="2.0">2.0</option> <option value="1.5.x">1.5.x</option> <option value="1.x">1.x</option></select></div></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/2.2/prologue" class="sidebar-heading clickable router-link-active open"><span>Prologue</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/2.2/prologue/upgrade-guide.html" aria-current="page" class="active sidebar-link">Upgrade Guide</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/2.2/prologue/upgrade-guide.html#upgrade-steps" class="sidebar-link">Upgrade Steps</a></li><li class="sidebar-sub-header"><a href="/2.2/prologue/upgrade-guide.html#new-changes" class="sidebar-link">New Changes</a></li><li class="sidebar-sub-header"><a href="/2.2/prologue/upgrade-guide.html#high-impact-changes" class="sidebar-link">High Impact Changes</a></li><li class="sidebar-sub-header"><a href="/2.2/prologue/upgrade-guide.html#medium-impact-changes" class="sidebar-link">Medium Impact Changes</a></li><li class="sidebar-sub-header"><a href="/2.2/prologue/upgrade-guide.html#low-impact-changes" class="sidebar-link">Low Impact Changes</a></li><li class="sidebar-sub-header"><a href="/2.2/prologue/upgrade-guide.html#upgrading-to-v2-2-0-from-v2-1-0" class="sidebar-link">Upgrading To v2.2.0 From v2.1.0</a></li></ul></li><li><a href="/2.2/prologue/contribution-guide.html" class="sidebar-link"> Contribution Guide</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/2.2/introduction" class="sidebar-heading clickable"><span>Introduction</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/2.2/architecture" class="sidebar-heading clickable"><span>Architecture concepts</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/2.2/packages" class="sidebar-heading clickable"><span>Package Development</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/2.2/advanced" class="sidebar-heading clickable"><span>Digging Deeper</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/2.2/themes" class="sidebar-heading clickable"><span>Themes</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/2.2/performance" class="sidebar-heading clickable"><span>Performance</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/2.2/api" class="sidebar-heading clickable"><span>Bagisto APIs</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="upgrade-guide"><a href="#upgrade-guide" class="header-anchor">#</a> Upgrade Guide</h1> <p></p><div class="table-of-contents"><ul><li><a href="#upgrade-steps">Upgrade Steps</a></li><li><a href="#new-changes">New Changes</a></li><li><a href="#high-impact-changes">High Impact Changes</a></li><li><a href="#medium-impact-changes">Medium Impact Changes</a></li><li><a href="#low-impact-changes">Low Impact Changes</a></li><li><a href="#upgrading-to-v2-2-0-from-v2-1-0">Upgrading To v2.2.0 From v2.1.0</a><ul><li><a href="#updating-dependencies">Updating Dependencies</a></li><li><a href="#admin">Admin</a></li><li><a href="#checkout">Checkout</a></li><li><a href="#datagrid">DataGrid</a></li><li><a href="#notification">Notification</a></li><li><a href="#product">Product</a></li><li><a href="#sales">Sales</a></li><li><a href="#shop">Shop</a></li><li><a href="#tax">Tax</a></li></ul></li></ul></div><p></p> <h2 id="upgrade-steps"><a href="#upgrade-steps" class="header-anchor">#</a> Upgrade Steps</h2> <p>To upgrade your current version to the latest version of Bagisto, follow these steps:</p> <ol><li><p>Download the latest version of Bagisto from one of the following links:</p> <ul><li><a href="https://bagisto.com/en/download/" target="_blank" rel="noopener noreferrer">Download From Official Bagisto Site<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/bagisto/bagisto" target="_blank" rel="noopener noreferrer">Download From GitHub<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li> <li><p>Extract the downloaded Bagisto zip file to the desired deployment location.</p></li> <li><p>Open the terminal and navigate to the root folder of the extracted Bagisto folder.</p></li> <li><p>Run the following command in the terminal:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">composer</span> create-project
</code></pre></div><p>This command will install the necessary dependencies for the latest version of Bagisto.</p></li> <li><p>Open the <strong><code>.env</code></strong> file in your project's root folder. Provide the database credentials of your old project, which you want to upgrade using Bagisto.</p></li> <li><p>Run one of the following commands to cache the new changes:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>php artisan optimize

<span class="token comment"># -- OR --</span>

php artisan config:cache
</code></pre></div><p>These commands will cache the configuration files and optimize the project.</p></li> <li><p>Now, your project is ready to run the migration command. Execute the following command in the terminal:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>php artisan migrate
</code></pre></div><div class="custom-block danger"><p class="custom-block-title">WARNING</p> <p>Be cautious when using the seeder command as it may reset settings and categories. Add default settings manually if necessary.</p></div></li> <li><p>Create a symbolic link to link public assets to the storage folder by running the following command:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>php artisan storage:link
</code></pre></div></li> <li><p>Copy the contents of the previous version's folder (e.g., <strong><code>old-project/storage/app/public</code></strong>) to the corresponding folder in the latest version (e.g., <strong><code>new-project/storage/app/public</code></strong>).</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>If your existing project depends on local storage, has changed paths, or requires previous logs, ensure to include those as well.</p></div></li> <li><p>Once the copying is complete, publish the new files by running the following command:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>php artisan vendor:publish <span class="token parameter variable">--all</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>Avoid using the <strong><code>--force</code></strong> flag, as it will reset all your views. Only use it if you understand the consequences.</p></div></li> <li><p>Congratulations! Your project is now upgraded to the latest version of Bagisto. However, keep in mind that if you have made significant customizations, ensure compatibility with the latest version.</p></li></ol> <h2 id="new-changes"><a href="#new-changes" class="header-anchor">#</a> New Changes</h2> <p>The following changes have been implemented in Bagisto from version 2.1 to 2.2:</p> <p>For more information, please visit the <a href="https://github.com/bagisto/bagisto/blob/v2.2.1/CHANGELOG.md" target="_blank" rel="noopener noreferrer">Bagisto changelog on GitHub<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h4 id="changes-in-the-latest-release"><a href="#changes-in-the-latest-release" class="header-anchor">#</a> Changes in the latest release</h4> <p>We are excited to announce the release of version <a href="https://github.com/bagisto/bagisto/tree/v2.2.1" target="_blank" rel="noopener noreferrer">2.2<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> of Bagisto, which includes numerous enhancements and improvements. To ensure a smooth transition to this latest version, we have prepared a comprehensive upgrade guide.</p> <p>For the upgrade guide visit <a href="https://github.com/bagisto/bagisto/blob/v2.2.1/UPGRADE.md" target="_blank" rel="noopener noreferrer">Bagisto UPGRADE.md on GitHub<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h2 id="high-impact-changes"><a href="#high-impact-changes" class="header-anchor">#</a> High Impact Changes</h2> <ul><li><a href="#updating-dependencies">Updating Dependencies</a></li> <li><a href="#the-cart-class">The <code>Webkul\Checkout\Cart</code> class</a></li> <li><a href="#the-configurable-type-class">The <code>Webkul\Product\Type\Configurable</code> class</a></li> <li><a href="#the-shop-api-response-updates">Shop API Response Updates</a></li> <li><a href="#the-admin-shop-menu-updates">Admin and Shop Menu Updates</a></li> <li><a href="#the-admin-acl-updates">Admin ACL Updates</a></li></ul> <h2 id="medium-impact-changes"><a href="#medium-impact-changes" class="header-anchor">#</a> Medium Impact Changes</h2> <ul><li><a href="admin-customized-datagrid-parameters-updated">Admin Customized Datagrid Parameters Updated</a></li> <li><a href="#admin-event-updates">Admin Event Updates</a></li> <li><a href="#the-system-config-update">The System Configuration Updates</a></li> <li><a href="#the-cart-model">The <code>Webkul\Checkout\Models\Cart</code> model</a></li> <li><a href="#the-checkout-tables-schema-updates">The Checkout Tables Schema Updates</a></li> <li><a href="#the-datagrid-class">The <code>Webkul\DataGrid\DataGrid</code> class</a></li> <li><a href="#the-column-class">The <code>Webkul/DataGrid/src/Column</code> class</a></li> <li><a href="#the-elastic-search-repository">The <code>Webkul\Product\Repositories\ElasticSearchRepository</code> Repository</a></li> <li><a href="#the-product-repository">The <code>Webkul\Product\Repositories\ProductRepository</code> Repository</a></li> <li><a href="#the-elastic-indexing">The product Elastic Search indexing</a></li> <li><a href="#the-sales-tables-schema-updates">The Sales Tables Schema Updates</a></li> <li><a href="#the-order-item-repository">The <code>Webkul\Sales\Repositories\OrderItemRepository</code> Repository</a></li> <li><a href="#moved-tax-helper-class">The <code>Webkul\Tax\Helpers\Tax</code> Class Moved</a></li> <li><a href="#shop-event-updates">Shop Event Updates</a></li> <li><a href="#shop-customized-datagrid-parameters-updated">Shop Customized Datagrid Parameters Updated</a></li> <li><a href="#shop-class-attribute-updated">Shop Class HTML Attribute updated</a></li></ul> <h2 id="low-impact-changes"><a href="#low-impact-changes" class="header-anchor">#</a> Low Impact Changes</h2> <ul><li><a href="#renamed-admin-api-routes-names">Renamed Admin API Route Names</a></li> <li><a href="#renamed-admin-controller-method-names">Renamed Admin Controller Method Names</a></li> <li><a href="#removed-cart-traits">Removed Cart Traits</a></li> <li><a href="#the-product-type-class">The Product Types Classes Updates</a></li> <li><a href="#renamed-star-rating-blade">Renamed <code>star-rating.blade.php</code></a></li> <li><a href="#moved-coupon-blade">Moved <code>coupon.blade.php</code></a></li> <li><a href="#renamed-shop-api-routes-names">Renamed Shop API Route Names</a></li> <li><a href="#renamed-shop-controller-method-names">Renamed Shop Controller Method Names</a></li> <li><a href="#renamed-admin-view-render-event-names">Renamed Admin View Render Event Names</a></li> <li><a href="#repository-update-method-signature-updated">Repositories Update Method Signature Updated</a></li> <li><a href="#optimize-the-configuration-section">Optimize The Configuration Section</a></li></ul> <h2 id="upgrading-to-v2-2-0-from-v2-1-0"><a href="#upgrading-to-v2-2-0-from-v2-1-0" class="header-anchor">#</a> Upgrading To v2.2.0 From v2.1.0</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>We strive to document every potential breaking change. However, as some of these alterations occur in lesser-known sections of Bagisto, only a fraction of them may impact your application.</p></div> <h3 id="updating-dependencies"><a href="#updating-dependencies" class="header-anchor">#</a> Updating Dependencies</h3> <p><strong>Impact Probability: High</strong></p> <h4 id="php-8-2-0-required"><a href="#php-8-2-0-required" class="header-anchor">#</a> PHP 8.2.0 Required</h4> <p>Laravel now requires PHP 8.1.0 or greater.</p> <h4 id="curl-7-34-0-required"><a href="#curl-7-34-0-required" class="header-anchor">#</a> curl 7.34.0 Required</h4> <p>Laravel's HTTP client now requires curl 7.34.0 or greater.</p> <h4 id="composer-dependencies"><a href="#composer-dependencies" class="header-anchor">#</a> Composer Dependencies</h4> <p>There is no dependency needed to be updated at for this upgrade.</p> <div markdown="1" class="content-list"></div> <p><a name="Admin"></a></p> <h3 id="admin"><a href="#admin" class="header-anchor">#</a> Admin</h3> <p><a name="the-system-config-update"></a></p> <h4 id="the-system-configuration-updates"><a href="#the-system-configuration-updates" class="header-anchor">#</a> The System Configuration Updates</h4> <p><strong>Impact Probability: Medium</strong></p> <p>1: The tax configuration has been relocated to the sales configuration, and the respective path for retrieving configuration values has been updated accordingly.</p> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> core()-&gt;getConfigData('taxes.catalogue.pricing.tax_inclusive')
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> core()-&gt;getConfigData('sales.taxes.calculation.product_prices')
</span></span>
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> core()-&gt;getConfigData('sales.taxes.calculation.shipping_prices')
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> core()-&gt;getConfigData('taxes.catalogue.default_location_calculation.country')
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> core()-&gt;getConfigData('sales.taxes.default_destination_calculation.country')
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> core()-&gt;getConfigData('taxes.catalogue.default_location_calculation.state')
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> core()-&gt;getConfigData('sales.taxes.default_destination_calculation.state')
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> core()-&gt;getConfigData('taxes.catalogue.default_location_calculation.postcode')
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> core()-&gt;getConfigData('sales.taxes.default_destination_calculation.postcode')
</span></span></code></pre></div><p>2: The <code>repository</code> option has been replaced with <code>options</code>. Now, you can use <code>options</code> as shown below to populate select field options from the database.</p> <div class="language-diff extra-class"><pre class="language-diff"><code>'key'    =&gt; 'sales.taxes.categories',
'name'   =&gt; 'admin::app.configuration.index.sales.taxes.categories.title',
'info'   =&gt; 'admin::app.configuration.index.sales.taxes.categories.title-info',
'sort'   =&gt; 1,
'fields' =&gt; [
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   [
</span><span class="token prefix unchanged"> </span><span class="token line">       'name'       =&gt; 'shipping',
</span><span class="token prefix unchanged"> </span><span class="token line">       'title'      =&gt; 'admin::app.configuration.index.sales.taxes.categories.shipping',
</span><span class="token prefix unchanged"> </span><span class="token line">       'type'       =&gt; 'select',
</span><span class="token prefix unchanged"> </span><span class="token line">       'default'    =&gt; 0,
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">       'repository' =&gt; '\Webkul\Tax\Repositories\TaxCategoryRepository@getConfigOptions',
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">       'options'    =&gt; '\Webkul\Tax\Repositories\TaxCategoryRepository@getConfigOptions',
</span></span>}
</code></pre></div><ol start="3"><li>The Inventory Stock Options configuration has been relocated to the Order Settings configuration, and the respective path for retrieving configuration values has been updated accordingly</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> core()-&gt;getConfigData('catalog.inventory.stock_options.back_orders')
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> core()-&gt;getConfigData('sales.order_settings.stock_options.back_orders')
</span></span></code></pre></div><ol start="4"><li>The product storefront search mode configuration <code>core()-&gt;getConfigData('catalog.products.storefront.search_mode')</code> has been replaced with the following configurations, and the corresponding paths for retrieving configuration values have been updated:</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> core()-&gt;getConfigData('catalog.products.storefront.search_mode')
</span></span>
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> core()-&gt;getConfigData('catalog.products.search.engine')
</span><span class="token prefix inserted">+</span><span class="token line"> core()-&gt;getConfigData('catalog.products.search.admin_mode')
</span><span class="token prefix inserted">+</span><span class="token line"> core()-&gt;getConfigData('catalog.products.search.storefront_mode')
</span></span></code></pre></div><p><code>core()-&gt;getConfigData('catalog.products.search.engine')</code> represents the search engine for products. If &quot;Elastic Search&quot; is selected, elastic indexing will be enabled. The other two configurations (<code>catalog.products.search.admin_mode</code> and <code>catalog.products.search.storefront_mode</code>) will function relative to this configuration.</p> <p>5: The <code>locale_based</code> setting in the sales shipping origin configuration has been updated to support multiple locale values.</p> <div class="language-diff extra-class"><pre class="language-diff"><code>[
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   'key'    =&gt; 'sales.shipping.origin',
</span><span class="token prefix unchanged"> </span><span class="token line">   'name'   =&gt; 'admin::app.configuration.index.sales.shipping.origin.title',
</span><span class="token prefix unchanged"> </span><span class="token line">   'info'   =&gt; 'admin::app.configuration.index.sales.shipping.origin.title-info',
</span><span class="token prefix unchanged"> </span><span class="token line">   'sort'   =&gt; 0,
</span><span class="token prefix unchanged"> </span><span class="token line">   'fields' =&gt; [
</span><span class="token prefix unchanged"> </span><span class="token line">       [
</span><span class="token prefix unchanged"> </span><span class="token line">           'name'          =&gt; 'city',
</span><span class="token prefix unchanged"> </span><span class="token line">           'title'         =&gt; 'admin::app.configuration.index.sales.shipping.origin.city',
</span><span class="token prefix unchanged"> </span><span class="token line">           'type'          =&gt; 'text',
</span><span class="token prefix unchanged"> </span><span class="token line">           'validation'    =&gt; 'required',
</span><span class="token prefix unchanged"> </span><span class="token line">           'channel_based' =&gt; true,
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">           'locale_based'  =&gt; false,
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">           'locale_based'  =&gt; true,
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">       ], [
</span><span class="token prefix unchanged"> </span><span class="token line">           'name'          =&gt; 'address',
</span><span class="token prefix unchanged"> </span><span class="token line">           'title'         =&gt; 'admin::app.configuration.index.sales.shipping.origin.street-address',
</span><span class="token prefix unchanged"> </span><span class="token line">           'type'          =&gt; 'text',
</span><span class="token prefix unchanged"> </span><span class="token line">           'validation'    =&gt; 'required',
</span><span class="token prefix unchanged"> </span><span class="token line">           'channel_based' =&gt; true,
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">           'locale_based'  =&gt; false,
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">           'locale_based'  =&gt; true,
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">       ], [
</span><span class="token prefix unchanged"> </span><span class="token line">           'name'          =&gt; 'zipcode',
</span><span class="token prefix unchanged"> </span><span class="token line">           'title'         =&gt; 'admin::app.configuration.index.sales.shipping.origin.zip',
</span><span class="token prefix unchanged"> </span><span class="token line">           'type'          =&gt; 'text',
</span><span class="token prefix unchanged"> </span><span class="token line">           'validation'    =&gt; 'required',
</span><span class="token prefix unchanged"> </span><span class="token line">           'channel_based' =&gt; true,
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">           'locale_based'  =&gt; false,
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">           'locale_based'  =&gt; true,
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">       ], [
</span><span class="token prefix unchanged"> </span><span class="token line">           'name'          =&gt; 'store_name',
</span><span class="token prefix unchanged"> </span><span class="token line">           'title'         =&gt; 'admin::app.configuration.index.sales.shipping.origin.store-name',
</span><span class="token prefix unchanged"> </span><span class="token line">           'type'          =&gt; 'text',
</span><span class="token prefix unchanged"> </span><span class="token line">           'channel_based' =&gt; true,
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">           'locale_based'  =&gt; false,
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">           'locale_based'  =&gt; true,
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">       ], [
</span><span class="token prefix unchanged"> </span><span class="token line">           'name'          =&gt; 'bank_details',
</span><span class="token prefix unchanged"> </span><span class="token line">           'title'         =&gt; 'admin::app.configuration.index.sales.shipping.origin.bank-details',
</span><span class="token prefix unchanged"> </span><span class="token line">           'type'          =&gt; 'textarea',
</span><span class="token prefix unchanged"> </span><span class="token line">           'channel_based' =&gt; true,
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">           'locale_based'  =&gt; false,
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">           'locale_based'  =&gt; true,
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">       ],
</span><span class="token prefix unchanged"> </span><span class="token line">   ],
</span></span>]
</code></pre></div><p>If you are migrating your existing store to this version, please save the configuration values again, as previously saved values will no longer work.</p> <ol start="6"><li>The Allow Guest Checkout configuration has been relocated to the Sales configuration under Checkout, and the respective path for retrieving configuration values has been updated accordingly</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> core()-&gt;getConfigData('catalog.products.guest_checkout.allow_guest_checkout')
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> core()-&gt;getConfigData('sales.checkout.shopping_cart.allow_guest_checkout')
</span></span></code></pre></div><ol start="7"><li>The Wishlist Option configuration has been relocated to the Customer configuration under Setting, and the respective path for retrieving configuration values has been updated accordingly</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> core()-&gt;getConfigData('general.content.shop.wishlist_option')
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> core()-&gt;getConfigData('customer.settings.wishlist.wishlist_option')
</span></span></code></pre></div><ol start="8"><li>The <code>locale_based</code> and <code>channel_based</code> settings in the customer products settings configuration have been updated to no longer be locale- or channel-based.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code>[
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   'key'    =&gt; 'catalog.products.settings',
</span><span class="token prefix unchanged"> </span><span class="token line">   'name'   =&gt; 'admin::app.configuration.index.general.content.settings.title',
</span><span class="token prefix unchanged"> </span><span class="token line">   'info'   =&gt; 'admin::app.configuration.index.general.content.settings.title-info',
</span><span class="token prefix unchanged"> </span><span class="token line">   'sort'   =&gt; 1,
</span><span class="token prefix unchanged"> </span><span class="token line">   'fields' =&gt; [
</span><span class="token prefix unchanged"> </span><span class="token line">       [
</span><span class="token prefix unchanged"> </span><span class="token line">           'name'          =&gt; 'compare_option',
</span><span class="token prefix unchanged"> </span><span class="token line">           'title'         =&gt; 'admin::app.configuration.index.general.content.settings.compare-options',
</span><span class="token prefix unchanged"> </span><span class="token line">           'type'          =&gt; 'boolean',
</span><span class="token prefix unchanged"> </span><span class="token line">           'default'       =&gt; 1,
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">           'locale_based'  =&gt; true,
</span><span class="token prefix deleted">-</span><span class="token line">           'channel_based' =&gt; true,
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">       ], [
</span><span class="token prefix unchanged"> </span><span class="token line">           'name'          =&gt; 'image_search',
</span><span class="token prefix unchanged"> </span><span class="token line">           'title'         =&gt; 'admin::app.configuration.index.general.content.settings.image-search-option',
</span><span class="token prefix unchanged"> </span><span class="token line">           'type'          =&gt; 'boolean',
</span><span class="token prefix unchanged"> </span><span class="token line">           'default'       =&gt; 1,
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">           'locale_based'  =&gt; true,
</span><span class="token prefix deleted">-</span><span class="token line">           'channel_based' =&gt; true,
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">       ],
</span><span class="token prefix unchanged"> </span><span class="token line">   ],
</span></span>]
</code></pre></div><ol start="9"><li>The <code>locale_based</code> and <code>channel_based</code> settings in the customer settings wishlist configuration have been updated to no longer be locale- or channel-based.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code>[
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   'key'    =&gt; 'customer.settings.wishlist',
</span><span class="token prefix unchanged"> </span><span class="token line">   'name'   =&gt; 'Wishlist',
</span><span class="token prefix unchanged"> </span><span class="token line">   'info'   =&gt; 'Enable or disable the wishlist option.',
</span><span class="token prefix unchanged"> </span><span class="token line">   'sort'   =&gt; 2,
</span><span class="token prefix unchanged"> </span><span class="token line">   'fields' =&gt; [
</span><span class="token prefix unchanged"> </span><span class="token line">       [
</span><span class="token prefix unchanged"> </span><span class="token line">           'name'    =&gt; 'wishlist_option',
</span><span class="token prefix unchanged"> </span><span class="token line">           'title'   =&gt; 'Allow Wishlist option',
</span><span class="token prefix unchanged"> </span><span class="token line">           'type'    =&gt; 'boolean',
</span><span class="token prefix unchanged"> </span><span class="token line">           'default' =&gt; 1,
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">           'locale_based'  =&gt; true,
</span><span class="token prefix deleted">-</span><span class="token line">           'channel_based' =&gt; true,
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">       ],
</span><span class="token prefix unchanged"> </span><span class="token line">   ],
</span></span>]
</code></pre></div><ol start="10"><li>The Back Order configuration has been relocated to the Catalog Inventory under Stock Options, and the respective path for retrieving configuration values has been updated accordingly</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> core()-&gt;getConfigData('sales.order_settings.stock_options.back_orders')
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> core()-&gt;getConfigData('catalog.inventory.stock_options.back_orders')
</span></span></code></pre></div><ol start="11"><li>The <code>channel_based</code> settings in the customer settings wishlist configuration have been updated to no longer be locale- or channel-based.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code>[
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   'key'    =&gt; 'catalog.inventory.stock_options',
</span><span class="token prefix unchanged"> </span><span class="token line">   'name'   =&gt; 'Product Stock Options',
</span><span class="token prefix unchanged"> </span><span class="token line">   'info'   =&gt; 'Product Stock Options',
</span><span class="token prefix unchanged"> </span><span class="token line">   'sort'   =&gt; 1,
</span><span class="token prefix unchanged"> </span><span class="token line">   'fields' =&gt; [
</span><span class="token prefix unchanged"> </span><span class="token line">       [
</span><span class="token prefix unchanged"> </span><span class="token line">           'name'          =&gt; 'back_orders',
</span><span class="token prefix unchanged"> </span><span class="token line">           'title'         =&gt; 'Allow Back Orders',
</span><span class="token prefix unchanged"> </span><span class="token line">           'type'          =&gt; 'boolean',
</span><span class="token prefix unchanged"> </span><span class="token line">           'default'       =&gt; false,
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">           'channel_based' =&gt; true,
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">       ],
</span><span class="token prefix unchanged"> </span><span class="token line">   ],
</span></span>]
</code></pre></div><ol start="10"><li>The Invoice Slip Design Logo configuration has been relocated to the Sales Invoice Setting under PDF Print Outs, and the respective path for retrieving configuration values has been updated accordingly</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> core()-&gt;getConfigData('sales.invoice_settings.invoice_slip_design.logo')
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> core()-&gt;getConfigData('sales.invoice_settings.pdf_print_outs.logo')
</span></span></code></pre></div><p><a name="renamed-admin-api-routes-names"></a></p> <h4 id="renamed-admin-api-route-names"><a href="#renamed-admin-api-route-names" class="header-anchor">#</a> Renamed Admin API Route Names</h4> <p><strong>Impact Probability: Low</strong></p> <ol><li>In the <code>packages/Webkul/Admin/src/Routes/sales-routes.php</code> route file, route names and controller methods have been renamed to provide clearer and more meaningful representations.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Route::post('update-qty/{order_id}', 'updateQty')-&gt;name('admin.sales.refunds.update_qty');
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> Route::post('update-totals/{order_id}', 'updateTotals')-&gt;name('admin.sales.refunds.update_totals');
</span></span></code></pre></div><p><a name="admin-event-updates"></a></p> <h4 id="admin-event-updates"><a href="#admin-event-updates" class="header-anchor">#</a> Admin Event Updates</h4> <p><strong>Impact Probability: High</strong></p> <h4 id="admin-event-inside-head-updated"><a href="#admin-event-inside-head-updated" class="header-anchor">#</a> Admin Event Inside Head Updated</h4> <ol><li>The event that was previously added in Admin has now been updated in the new format. You can now directly add your own custom elements inside the <code>head</code> tag.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> {!! view_render_event('bagisto.admin.layout.head.before') !!}
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> {!! view_render_event('bagisto.admin.layout.head') !!}
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> {!! view_render_event('bagisto.admin.layout.head.after') !!}
</span></span></code></pre></div><p><a name="renamed-admin-view-render-event-names"></a></p> <h4 id="renamed-admin-view-render-event-names"><a href="#renamed-admin-view-render-event-names" class="header-anchor">#</a> Renamed Admin View Render Event Names</h4> <p><strong>Impact Probability: Low</strong></p> <ol><li>The View render event names have been updated for consistency in the <code>packages/Webkul/Admin/src/Resources/views/dashboard/index.blade.php</code> blade file.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> {!! view_render_event('bagisto.admin.dashboard.overall_detailes.before') !!}
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> {!! view_render_event('bagisto.admin.dashboard.overall_details.before') !!}
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> {!! view_render_event('bagisto.admin.dashboard.overall_detailes.after') !!}
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> {!! view_render_event('bagisto.admin.dashboard.overall_details.after') !!}
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> {!! view_render_event('bagisto.admin.dashboard.todays_detailes.before') !!}
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> {!! view_render_event('bagisto.admin.dashboard.todays_details.before') !!}
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> {!! view_render_event('bagisto.admin.dashboard.todays_detailes.after') !!}
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> {!! view_render_event('bagisto.admin.dashboard.todays_details.after') !!}
</span></span></code></pre></div><p><a name="repository-update-method-signature-updated"></a></p> <h4 id="repository-update-method-signature-updated"><a href="#repository-update-method-signature-updated" class="header-anchor">#</a> Repository Update Method Signature Updated</h4> <ol><li>We have updated the signature of the <code>update</code> method in the <code>Repositories</code> class to streamline its functionality and improve code clarity. The method previously accepted three arguments, but the third argument, <code>$attribute</code>, is no longer necessary. The updated method signature is as follows:</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function update(array $data, $id, $attribute = 'id')
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> public function update(array $data, $id)
</span></span></code></pre></div><ol start="2"><li>We have updated the signature of the <code>update</code> method in the <code>ProductRepository</code> to improve its functionality and provide greater flexibility in specifying which attributes should be updated. The method previously accepted three arguments, but the third argument, <code>$attribute</code>, has been modified to <code>$attributes</code>, which now accepts an array of attributes to be updated. The updated method signature is as follows:</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function update(array $data, $id, $attribute = 'id')
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> public function update(array $data, $id, $attributes = [])
</span></span>
</code></pre></div><p><a name="optimize-the-configuration-section"></a></p> <h4 id="optimize-the-configuration-section"><a href="#optimize-the-configuration-section" class="header-anchor">#</a> Optimize The Configuration Section</h4> <p>We are removing the <code>packages/Webkul/Core/src/Tree.php</code> file and also removing the <code>CoreConfigField</code> trait from <code>CoreConfigRepository.php</code> file. Its important methods have been moved into <code>packages/Webkul/Core/src/SystemConfig/ItemField.php</code> because the <code>ItemField.php</code> file is responsible for each field of configuration items.</p> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">&lt;?php
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">namespace Webkul\Core;
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">use Illuminate\Support\Facades\Request;
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">class Tree
</span><span class="token prefix deleted">-</span><span class="token line">{
</span><span class="token prefix deleted">-</span><span class="token line">    /**
</span><span class="token prefix deleted">-</span><span class="token line">     * Contains tree item
</span><span class="token prefix deleted">-</span><span class="token line">     *
</span><span class="token prefix deleted">-</span><span class="token line">     * @var array
</span><span class="token prefix deleted">-</span><span class="token line">     */
</span><span class="token prefix deleted">-</span><span class="token line">    public $items = [];
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">    /**
</span><span class="token prefix deleted">-</span><span class="token line">     * Contains acl roles
</span><span class="token prefix deleted">-</span><span class="token line">     *
</span><span class="token prefix deleted">-</span><span class="token line">     * @var array
</span><span class="token prefix deleted">-</span><span class="token line">     */
</span><span class="token prefix deleted">-</span><span class="token line">    public $roles = [];
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">    /**
</span><span class="token prefix deleted">-</span><span class="token line">     * Contains current item route
</span><span class="token prefix deleted">-</span><span class="token line">     *
</span><span class="token prefix deleted">-</span><span class="token line">     * @var string
</span><span class="token prefix deleted">-</span><span class="token line">     */
</span><span class="token prefix deleted">-</span><span class="token line">    public $current;
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">    /**
</span><span class="token prefix deleted">-</span><span class="token line">     * Contains current item key
</span><span class="token prefix deleted">-</span><span class="token line">     *
</span><span class="token prefix deleted">-</span><span class="token line">     * @var string
</span><span class="token prefix deleted">-</span><span class="token line">     */
</span><span class="token prefix deleted">-</span><span class="token line">    public $currentKey;
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">    /**
</span><span class="token prefix deleted">-</span><span class="token line">     * Create a new instance.
</span><span class="token prefix deleted">-</span><span class="token line">     *
</span><span class="token prefix deleted">-</span><span class="token line">     * @return void
</span><span class="token prefix deleted">-</span><span class="token line">     */
</span><span class="token prefix deleted">-</span><span class="token line">    public function __construct()
</span><span class="token prefix deleted">-</span><span class="token line">    {
</span><span class="token prefix deleted">-</span><span class="token line">        $this-&gt;current = Request::url();
</span><span class="token prefix deleted">-</span><span class="token line">    }
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">    /**
</span><span class="token prefix deleted">-</span><span class="token line">     * Shortcut method for create a Config with a callback.
</span><span class="token prefix deleted">-</span><span class="token line">     * This will allow you to do things like fire an event on creation.
</span><span class="token prefix deleted">-</span><span class="token line">     *
</span><span class="token prefix deleted">-</span><span class="token line">     * @param  callable  $callback  Callback to use after the Config creation
</span><span class="token prefix deleted">-</span><span class="token line">     * @return object
</span><span class="token prefix deleted">-</span><span class="token line">     */
</span><span class="token prefix deleted">-</span><span class="token line">    public static function create($callback = null)
</span><span class="token prefix deleted">-</span><span class="token line">    {
</span><span class="token prefix deleted">-</span><span class="token line">        $tree = new Tree();
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">        if ($callback) {
</span><span class="token prefix deleted">-</span><span class="token line">            $callback($tree);
</span><span class="token prefix deleted">-</span><span class="token line">        }
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">        return $tree;
</span><span class="token prefix deleted">-</span><span class="token line">    }
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">    /**
</span><span class="token prefix deleted">-</span><span class="token line">     * Add a Config item to the item stack
</span><span class="token prefix deleted">-</span><span class="token line">     *
</span><span class="token prefix deleted">-</span><span class="token line">     * @param  string  $item
</span><span class="token prefix deleted">-</span><span class="token line">     * @return void
</span><span class="token prefix deleted">-</span><span class="token line">     */
</span><span class="token prefix deleted">-</span><span class="token line">    public function add($item, $type = '')
</span><span class="token prefix deleted">-</span><span class="token line">    {
</span><span class="token prefix deleted">-</span><span class="token line">        $item['children'] = [];
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">        if ($type == 'menu') {
</span><span class="token prefix deleted">-</span><span class="token line">            $item['url'] = route($item['route'], $item['params'] ?? []);
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">            if (strpos($this-&gt;current, $item['url']) !== false) {
</span><span class="token prefix deleted">-</span><span class="token line">                $this-&gt;currentKey = $item['key'];
</span><span class="token prefix deleted">-</span><span class="token line">            }
</span><span class="token prefix deleted">-</span><span class="token line">        } elseif ($type == 'acl') {
</span><span class="token prefix deleted">-</span><span class="token line">            $item['name'] = trans($item['name']);
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">            $this-&gt;roles[$item['route']] = $item['key'];
</span><span class="token prefix deleted">-</span><span class="token line">        }
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">        $children = str_replace('.', '.children.', $item['key']);
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">        core()-&gt;array_set($this-&gt;items, $children, $item);
</span><span class="token prefix deleted">-</span><span class="token line">    }
</span><span class="token prefix deleted">-</span><span class="token line">}
</span></span></code></pre></div><div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">&lt;?php
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">namespace Webkul\Core\Traits;
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">use Illuminate\Support\Str;
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">trait CoreConfigField
</span><span class="token prefix deleted">-</span><span class="token line">{
</span><span class="token prefix deleted">-</span><span class="token line">    /**
</span><span class="token prefix deleted">-</span><span class="token line">     * Laravel to Vee Validation mappings.
</span><span class="token prefix deleted">-</span><span class="token line">     *
</span><span class="token prefix deleted">-</span><span class="token line">     * @var array
</span><span class="token prefix deleted">-</span><span class="token line">     */
</span><span class="token prefix deleted">-</span><span class="token line">    protected $veeValidateMappings = [
</span><span class="token prefix deleted">-</span><span class="token line">        'min'=&gt; 'min_value',
</span><span class="token prefix deleted">-</span><span class="token line">    ];
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">    /**
</span><span class="token prefix deleted">-</span><span class="token line">     * Get name field for forms in configuration page.
</span><span class="token prefix deleted">-</span><span class="token line">     *
</span><span class="token prefix deleted">-</span><span class="token line">     * @param  string  $key
</span><span class="token prefix deleted">-</span><span class="token line">     * @return string
</span><span class="token prefix deleted">-</span><span class="token line">     */
</span><span class="token prefix deleted">-</span><span class="token line">    public function getNameField($key)
</span><span class="token prefix deleted">-</span><span class="token line">    {
</span><span class="token prefix deleted">-</span><span class="token line">        $nameField = '';
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">        foreach (explode('.', $key) as $key =&gt; $field) {
</span><span class="token prefix deleted">-</span><span class="token line">            $nameField .= $key === 0 ? $field : '['.$field.']';
</span><span class="token prefix deleted">-</span><span class="token line">        }
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">        return $nameField;
</span><span class="token prefix deleted">-</span><span class="token line">    }
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">    /**
</span><span class="token prefix deleted">-</span><span class="token line">     * Get validations for forms in configuration page.
</span><span class="token prefix deleted">-</span><span class="token line">     *
</span><span class="token prefix deleted">-</span><span class="token line">     * @param  array  $field
</span><span class="token prefix deleted">-</span><span class="token line">     * @return string
</span><span class="token prefix deleted">-</span><span class="token line">     */
</span><span class="token prefix deleted">-</span><span class="token line">    public function getValidations($field)
</span><span class="token prefix deleted">-</span><span class="token line">    {
</span><span class="token prefix deleted">-</span><span class="token line">        $field['validation'] = $field['validation'] ?? '';
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">        foreach ($this-&gt;veeValidateMappings as $laravelRule =&gt; $veeValidateRule) {
</span><span class="token prefix deleted">-</span><span class="token line">            $field['validation'] = str_replace($laravelRule, $veeValidateRule, $field['validation']);
</span><span class="token prefix deleted">-</span><span class="token line">        }
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">        return $field['validation'];
</span><span class="token prefix deleted">-</span><span class="token line">    }
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">    /**
</span><span class="token prefix deleted">-</span><span class="token line">     * Get channel/locale indicator for form fields. So, that form fields can be detected,
</span><span class="token prefix deleted">-</span><span class="token line">     * whether it is channel based or locale based or both.
</span><span class="token prefix deleted">-</span><span class="token line">     *
</span><span class="token prefix deleted">-</span><span class="token line">     * @param  array  $field
</span><span class="token prefix deleted">-</span><span class="token line">     * @param  string  $channel
</span><span class="token prefix deleted">-</span><span class="token line">     * @param  string  $locale
</span><span class="token prefix deleted">-</span><span class="token line">     * @return string
</span><span class="token prefix deleted">-</span><span class="token line">     */
</span><span class="token prefix deleted">-</span><span class="token line">    public function getChannelLocaleInfo($field, $channel, $locale)
</span><span class="token prefix deleted">-</span><span class="token line">    {
</span><span class="token prefix deleted">-</span><span class="token line">        $info = [];
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">        if (! empty($field['channel_based'])) {
</span><span class="token prefix deleted">-</span><span class="token line">            $info[] = $channel;
</span><span class="token prefix deleted">-</span><span class="token line">        }
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">        if (! empty($field['locale_based'])) {
</span><span class="token prefix deleted">-</span><span class="token line">            $info[] = $locale;
</span><span class="token prefix deleted">-</span><span class="token line">        }
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">        return ! empty($info) ? '['.implode(' - ', $info).']' : '';
</span><span class="token prefix deleted">-</span><span class="token line">    }
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">    /**
</span><span class="token prefix deleted">-</span><span class="token line">     * Returns the select options for the field.
</span><span class="token prefix deleted">-</span><span class="token line">     */
</span><span class="token prefix deleted">-</span><span class="token line">    public function getOptions(array|string $options): array
</span><span class="token prefix deleted">-</span><span class="token line">    {
</span><span class="token prefix deleted">-</span><span class="token line">        if (is_array($options)) {
</span><span class="token prefix deleted">-</span><span class="token line">            return $options;
</span><span class="token prefix deleted">-</span><span class="token line">        }
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">        [$class, $method] = Str::parseCallback($options);
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">        return app($class)-&gt;$method();
</span><span class="token prefix deleted">-</span><span class="token line">    }
</span><span class="token prefix deleted">-</span><span class="token line">}
</span></span>
</code></pre></div><p>The method <code>getChannelLocaleInfo</code>, which was in the <code>CoreConfigField</code> trait, has been completely removed as it is no longer needed. The <code>getNameField</code>, <code>getValidations</code>, and <code>getOptions</code> methods, along with their class properties, have been moved to the <code>packages/Webkul/Core/src/SystemConfig/ItemField.php</code> file, which is handled by the <code>ItemField</code> class.</p> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">    /**
</span><span class="token prefix deleted">-</span><span class="token line">     * Get channel/locale indicator for form fields. So, that form fields can be detected,
</span><span class="token prefix deleted">-</span><span class="token line">     * whether it is channel based or locale based or both.
</span><span class="token prefix deleted">-</span><span class="token line">     *
</span><span class="token prefix deleted">-</span><span class="token line">     * @param  array  $field
</span><span class="token prefix deleted">-</span><span class="token line">     * @param  string  $channel
</span><span class="token prefix deleted">-</span><span class="token line">     * @param  string  $locale
</span><span class="token prefix deleted">-</span><span class="token line">     * @return string
</span><span class="token prefix deleted">-</span><span class="token line">     */
</span><span class="token prefix deleted">-</span><span class="token line">    public function getChannelLocaleInfo($field, $channel, $locale)
</span><span class="token prefix deleted">-</span><span class="token line">    {
</span><span class="token prefix deleted">-</span><span class="token line">        $info = [];
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">        if (! empty($field['channel_based'])) {
</span><span class="token prefix deleted">-</span><span class="token line">            $info[] = $channel;
</span><span class="token prefix deleted">-</span><span class="token line">        }
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">        if (! empty($field['locale_based'])) {
</span><span class="token prefix deleted">-</span><span class="token line">            $info[] = $locale;
</span><span class="token prefix deleted">-</span><span class="token line">        }
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">        return ! empty($info) ? '['.implode(' - ', $info).']' : '';
</span><span class="token prefix deleted">-</span><span class="token line">    }
</span></span></code></pre></div><p>To achieve this, we are using the code provided below.</p> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> &lt;span
</span><span class="token prefix inserted">+</span><span class="token line">     v-if=&quot;field['channel_based'] &amp;&amp; channelCount&quot;
</span><span class="token prefix inserted">+</span><span class="token line">     class=&quot;rounded border border-gray-200 bg-gray-100 px-1 py-0.5 text-[10px] font-semibold leading-normal text-gray-600&quot;
</span><span class="token prefix inserted">+</span><span class="token line">     v-text=&quot;JSON.parse(currentChannel).name&quot;
</span><span class="token prefix inserted">+</span><span class="token line"> &gt;
</span><span class="token prefix inserted">+</span><span class="token line"> &lt;/span&gt;
</span><span class="token prefix inserted">+</span><span class="token line"> 
</span><span class="token prefix inserted">+</span><span class="token line"> &lt;span
</span><span class="token prefix inserted">+</span><span class="token line">     v-if=&quot;field['locale_based']&quot;
</span><span class="token prefix inserted">+</span><span class="token line">     class=&quot;rounded border border-gray-200 bg-gray-100 px-1 py-0.5 text-[10px] font-semibold leading-normal text-gray-600&quot;
</span><span class="token prefix inserted">+</span><span class="token line">     v-text=&quot;JSON.parse(currentLocale).name&quot;
</span><span class="token prefix inserted">+</span><span class="token line"> &gt;
</span><span class="token prefix inserted">+</span><span class="token line"> &lt;/span&gt;
</span></span></code></pre></div><p>In <code>packages/Webkul/Admin/src/Resources/views/configuration/index.blade.php</code>, we have completely changed the way to get/fetch the configuration items. We are now using <code>packages/Webkul/Core/src/SystemConfig/Item.php</code>, <code>packages/Webkul/Core/src/SystemConfig/ItemField.php</code>, and <code>packages/Webkul/Core/src/SystemConfig.php</code>, which are responsible for handling the configuration items and their fields.</p> <p>The changes in <code>index.blade.php</code> are shown below:</p> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">div class=&quot;grid gap-y-8&quot;&gt;
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">    @foreach ($config-&gt;items as $itemKey =&gt; $item)
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">    @foreach (system_config()-&gt;getItems() as $item)
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">       &lt;div&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">           &lt;div class=&quot;grid gap-1&quot;&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">               &lt;!-- Title of the Main Card --&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">               &lt;p class=&quot;font-semibold text-gray-600 dark:text-gray-300&quot;&gt;
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">                   @lang($item['name'] ?? '')
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">                   {{ $item-&gt;getName() }}
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">               &lt;/p&gt;
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">               &lt;!-- Info of the Main Card --&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">               &lt;p class=&quot;text-gray-600 dark:text-gray-300&quot;&gt;
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">                   @lang($item['info'] ?? '')
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">                   {{ $item-&gt;getInfo() }}
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">               &lt;/p&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">           &lt;/div&gt;
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">           &lt;div class=&quot;box-shadow max-1580:grid-cols-3 mt-2 grid grid-cols-4 flex-wrap justify-between gap-12 rounded bg-white p-4 dark:bg-gray-900 max-xl:grid-cols-2 max-sm:grid-cols-1&quot;&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">               &lt;!-- Menus cards --&gt;
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">               @foreach ($item['children'] as $childKey =&gt;  $child)
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">               @foreach ($item-&gt;getChildren() as $key =&gt; $child)
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">                   &lt;a 
</span><span class="token prefix unchanged"> </span><span class="token line">                       class=&quot;flex max-w-[360px] items-center gap-2 rounded-lg p-2 transition-all hover:bg-gray-100 dark:hover:bg-gray-950&quot;
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">                        href=&quot;{{ route('admin.configuration.index', ($itemKey . '/' . $childKey)) }}&quot;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">                        href=&quot;{{ route('admin.configuration.index', ($item-&gt;getKey() . '/' . $key)) }}&quot;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">                   &gt;
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">                       @if (isset($child['icon']))
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">                       @if ($icon = $child-&gt;getIcon())
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">                           &lt;img
</span><span class="token prefix unchanged"> </span><span class="token line">                               class=&quot;h-[60px] w-[60px] dark:mix-blend-exclusion dark:invert&quot;
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">                               src=&quot;{{ bagisto_asset('images/' . $child['icon'] ?? '') }}&quot;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">                               src=&quot;{{ bagisto_asset('images/' . $icon) }}&quot;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">                           &gt;
</span><span class="token prefix unchanged"> </span><span class="token line">                       @endif
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">                       &lt;div class=&quot;grid&quot;&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">                           &lt;p class=&quot;mb-1.5 text-base font-semibold text-gray-800 dark:text-white&quot;&gt;
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">                               @lang($child['name'])
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">                               {{ $child-&gt;getName() }}
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">                           &lt;/p&gt;
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">                           &lt;p class=&quot;text-xs text-gray-600 dark:text-gray-300&quot;&gt;
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">                               @lang($child['info'] ?? '')
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">                               {{ $child-&gt;getInfo() }}
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">                           &lt;/p&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">                       &lt;/div&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">                   &lt;/a&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">               @endforeach
</span><span class="token prefix unchanged"> </span><span class="token line">           &lt;/div&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">       &lt;/div&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">   @endforeach
</span></span><span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">/div&gt;
</span></span></code></pre></div><p>In <code>packages/Webkul/Admin/src/Resources/views/configuration/edit.blade.php</code>, we were previously using iteration and conditions based on routes. Now, we are using the <code>facade</code> helper method named <code>system_config()</code> to get the active configuration items and their fields.</p> <div class="language-diff extra-class"><pre class="language-diff"><code>@php
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   $channels = core()-&gt;getAllChannels();
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   $currentChannel = core()-&gt;getRequestedChannel();
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   $currentLocale = core()-&gt;getRequestedLocale();
</span></span>
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">   $activeConfiguration = system_config()-&gt;getActiveConfigurationItem();
</span></span>@endphp

<span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">x-admin::layouts&gt;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   &lt;x-slot:title&gt;
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">        @if ($items = Arr::get($config-&gt;items, request()-&gt;route('slug') . '.children'))
</span><span class="token prefix deleted">-</span><span class="token line">            @foreach ($items as $key =&gt; $item)
</span><span class="token prefix deleted">-</span><span class="token line">                @if ( $key == request()-&gt;route('slug2'))
</span><span class="token prefix deleted">-</span><span class="token line">                    {{ $title = trans($item['name']) }}
</span><span class="token prefix deleted">-</span><span class="token line">                @endif
</span><span class="token prefix deleted">-</span><span class="token line">            @endforeach
</span><span class="token prefix deleted">-</span><span class="token line">        @endif
</span></span>
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">       {{ $name = $activeConfiguration-&gt;getName() }}
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   &lt;/x-slot&gt;
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   &lt;p class=&quot;text-xl font-bold text-gray-800 dark:text-white&quot;&gt;
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">       {{ $title }}
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">       {{ $name }}
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   &lt;/p&gt;
</span></span>//
<span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">/x-admin::layouts&gt;
</span></span></code></pre></div><div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">@if ($groups)
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   &lt;div class=&quot;mt-6 grid grid-cols-[1fr_2fr] gap-10 max-xl:flex-wrap&quot;&gt;
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">       @foreach ($groups as $key =&gt; $item)
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">       @foreach ($activeConfiguration-&gt;getChildren() as $child)
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">           &lt;div class=&quot;grid content-start gap-2.5&quot;&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">               &lt;p class=&quot;text-base font-semibold text-gray-600 dark:text-gray-300&quot;&gt;
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">                   @lang($item['name'])
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">                   {{ $child-&gt;getName() }}
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">               &lt;/p&gt;
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">               &lt;p class=&quot;leading-[140%] text-gray-600 dark:text-gray-300&quot;&gt;
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">                   @lang($item['info'] ?? '')
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">                   {!! $child-&gt;getInfo() !!}
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">               &lt;/p&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">           &lt;/div&gt;
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">           &lt;div class=&quot;box-shadow rounded bg-white p-4 dark:bg-gray-900&quot;&gt;
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">               @foreach ($item['fields'] as $field)
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">               @foreach ($child-&gt;getFields() as $field)
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">                   @if (
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">                       $field['type'] == 'blade'
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">                       $field-&gt;getType() == 'blade'
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">                       &amp;&amp; view()-&gt;exists($field['path'])
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">                       &amp;&amp; view()-&gt;exists($path = $field-&gt;getPath())
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">                   )
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">                       {!! view($field['path'], compact('field'))-&gt;render() !!}
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">                       {!! view($path, compact('field', 'item'))-&gt;render() !!}
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">                   @else 
</span><span class="token prefix unchanged"> </span><span class="token line">                       @include ('admin::configuration.field-type')
</span><span class="token prefix unchanged"> </span><span class="token line">                   @endif
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">                   @php ($hint = $field['title'] . '-hint')
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">                   @if ($hint !== __($hint))
</span><span class="token prefix deleted">-</span><span class="token line">                       &lt;p class=&quot;mt-1 block text-xs italic leading-5 text-gray-600 dark:text-gray-300&quot;&gt;
</span><span class="token prefix deleted">-</span><span class="token line">                           @lang($hint)
</span><span class="token prefix deleted">-</span><span class="token line">                       &lt;/p&gt;
</span><span class="token prefix deleted">-</span><span class="token line">                   @endif
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">               @endforeach
</span><span class="token prefix unchanged"> </span><span class="token line">           &lt;/div&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">       @endforeach
</span><span class="token prefix unchanged"> </span><span class="token line">   &lt;/div&gt;
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">@endif
</span></span></code></pre></div><p>The changes in field-type.blade.php are shown below:</p> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">@inject('coreConfigRepository', 'Webkul\Core\Repositories\CoreConfigRepository')
</span></span>
@php
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">    $nameKey = $item['key'] . '.' . $field['name'];
</span><span class="token prefix deleted">-</span><span class="token line">    $name = $coreConfigRepository-&gt;getNameField($nameKey);
</span><span class="token prefix deleted">-</span><span class="token line">    $validations = $coreConfigRepository-&gt;getValidations($field);
</span><span class="token prefix deleted">-</span><span class="token line">    $isRequired = Str::contains($validations, 'required') ? 'required' : '';
</span><span class="token prefix deleted">-</span><span class="token line">    $channelLocaleInfo = $coreConfigRepository-&gt;getChannelLocaleInfo($field, $currentChannel-&gt;code, $currentLocale-&gt;code);
</span><span class="token prefix deleted">-</span><span class="token line">    $field = collect([
</span><span class="token prefix deleted">-</span><span class="token line">        ...$field,
</span><span class="token prefix deleted">-</span><span class="token line">        'isVisible' =&gt; true,
</span><span class="token prefix deleted">-</span><span class="token line">    ])-&gt;map(function ($value, $key) use($coreConfigRepository) {
</span><span class="token prefix deleted">-</span><span class="token line">        if ($key == 'options') {
</span><span class="token prefix deleted">-</span><span class="token line">            return collect($coreConfigRepository-&gt;getOptions($value))-&gt;map(fn ($option) =&gt; [
</span><span class="token prefix deleted">-</span><span class="token line">                'title' =&gt; trans($option['title']),
</span><span class="token prefix deleted">-</span><span class="token line">                'value' =&gt; $option['value'],
</span><span class="token prefix deleted">-</span><span class="token line">            ])-&gt;toArray();
</span><span class="token prefix deleted">-</span><span class="token line">        }
</span><span class="token prefix deleted">-</span><span class="token line">        return $value;
</span><span class="token prefix deleted">-</span><span class="token line">    })-&gt;toArray();
</span><span class="token prefix deleted">-</span><span class="token line">    if (! empty($field['depends'])) {
</span><span class="token prefix deleted">-</span><span class="token line">        [$fieldName, $fieldValue] = explode(':' , $field['depends']);
</span><span class="token prefix deleted">-</span><span class="token line">        $dependNameKey = $item['key'] . '.' . $fieldName;
</span><span class="token prefix deleted">-</span><span class="token line">    }
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">    $value = system_config()-&gt;getConfigData($field-&gt;getNameKey(), $currentChannel-&gt;code, $currentLocale-&gt;code);
</span></span>@endphp

<span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">input
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   type=&quot;hidden&quot;
</span><span class="token prefix unchanged"> </span><span class="token line">   name=&quot;keys[]&quot;
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">    value=&quot;{{ json_encode($item) }}&quot;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">    value=&quot;{{ json_encode($child) }}&quot;
</span></span>/&gt;

<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">&lt;v-configurable
</span><span class="token prefix deleted">-</span><span class="token line">    channel-count=&quot;{{ core()-&gt;getAllChannels()-&gt;count() }}&quot;
</span><span class="token prefix deleted">-</span><span class="token line">    channel-locale=&quot;{{ $channelLocaleInfo }}&quot;
</span><span class="token prefix deleted">-</span><span class="token line">    current-channel=&quot;{{ $currentChannel }}&quot;
</span><span class="token prefix deleted">-</span><span class="token line">    current-locale=&quot;{{ $currentLocale }}&quot;
</span><span class="token prefix deleted">-</span><span class="token line">    depend-name=&quot;{{ isset($field['depends']) ? $coreConfigRepository-&gt;getNameField($dependNameKey) : ''}}&quot;
</span><span class="token prefix deleted">-</span><span class="token line">    field-data=&quot;{{ json_encode($field) }}&quot;
</span><span class="token prefix deleted">-</span><span class="token line">    info=&quot;{{ trans($field['info'] ?? '') }}&quot;
</span><span class="token prefix deleted">-</span><span class="token line">    is-require=&quot;{{ $isRequired }}&quot;
</span><span class="token prefix deleted">-</span><span class="token line">    label=&quot;{{ trans($field['title']) }}&quot;
</span><span class="token prefix deleted">-</span><span class="token line">    name=&quot;{{ $name }}&quot;
</span><span class="token prefix deleted">-</span><span class="token line">    src=&quot;{{ Storage::url(core()-&gt;getConfigData($nameKey, $currentChannel-&gt;code, $currentLocale-&gt;code)) }}&quot;
</span><span class="token prefix deleted">-</span><span class="token line">    validations=&quot;{{ $validations }}&quot;
</span><span class="token prefix deleted">-</span><span class="token line">    value=&quot;{{ core()-&gt;getConfigData($nameKey, $currentChannel-&gt;code, $currentLocale-&gt;code) ?? '' }}&quot;
</span><span class="token prefix deleted">-</span><span class="token line">&gt;
</span><span class="token prefix deleted">-</span><span class="token line">    &lt;div class=&quot;mb-4&quot;&gt;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">&lt;div class=&quot;mb-4 last:!mb-0&quot;&gt;
</span><span class="token prefix inserted">+</span><span class="token line">    &lt;v-configurable
</span><span class="token prefix inserted">+</span><span class="token line">        name=&quot;{{ $field-&gt;getNameField() }}&quot;
</span><span class="token prefix inserted">+</span><span class="token line">        value=&quot;{{ $value }}&quot;
</span><span class="token prefix inserted">+</span><span class="token line">        label=&quot;{{ trans($field-&gt;getTitle()) }}&quot;
</span><span class="token prefix inserted">+</span><span class="token line">        info=&quot;{{ trans($field-&gt;getInfo()) }}&quot;
</span><span class="token prefix inserted">+</span><span class="token line">        validations=&quot;{{ $field-&gt;getValidations() }}&quot;
</span><span class="token prefix inserted">+</span><span class="token line">        is-require=&quot;{{ $field-&gt;isRequired() }}&quot;
</span><span class="token prefix inserted">+</span><span class="token line">        depend-name=&quot;{{ $field-&gt;getDependFieldName() }}&quot;
</span><span class="token prefix inserted">+</span><span class="token line">        src=&quot;{{ Storage::url($value) }}&quot;
</span><span class="token prefix inserted">+</span><span class="token line">        field-data=&quot;{{ json_encode($field) }}&quot;
</span><span class="token prefix inserted">+</span><span class="token line">        channel-count=&quot;{{ $channels-&gt;count() }}&quot;
</span><span class="token prefix inserted">+</span><span class="token line">        current-channel=&quot;{{ $currentChannel }}&quot;
</span><span class="token prefix inserted">+</span><span class="token line">        current-locale=&quot;{{ $currentLocale }}&quot;
</span><span class="token prefix inserted">+</span><span class="token line">    &gt;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">       &lt;div class=&quot;shimmer mb-1.5 h-4 w-24&quot;&gt;&lt;/div&gt;
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">       &lt;div class=&quot;shimmer flex h-[42px] w-full rounded-md&quot;&gt;&lt;/div&gt;
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">    &lt;/div&gt;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">    &lt;/v-configurable&gt;
</span><span class="token prefix inserted">+</span><span class="token line">&lt;/div&gt;
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">&lt;/v-configurable&gt;
</span></span></code></pre></div><p><a name="admin-customized-datagrid-parameters-updated"></a></p> <h4 id="admin-customized-datagrid-parameters-updated"><a href="#admin-customized-datagrid-parameters-updated" class="header-anchor">#</a> Admin Customized Datagrid Parameters Updated</h4> <p><strong>Impact Probability: Medium</strong></p> <ol><li>Previously, the data grid <code>header</code> was customized using parameters such as <code>columns</code>, <code>records</code>, <code>sortPage</code>, <code>selectAllRecords</code>, <code>applied</code>, and <code>isLoading</code>. However, with the latest updates, the parameter names have been revised for clarity and consistency across components.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> &lt;template #header=&quot;{ columns, records, sortPage, selectAllRecords, applied, isLoading}&quot;&gt;
</span><span class="token prefix deleted">-</span><span class="token line">    &lt;!-- Header customization code --&gt;
</span><span class="token prefix deleted">-</span><span class="token line"> &lt;/template&gt;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> &lt;template #header=&quot;{
</span><span class="token prefix inserted">+</span><span class="token line">    isLoading,
</span><span class="token prefix inserted">+</span><span class="token line">    available,
</span><span class="token prefix inserted">+</span><span class="token line">    applied,
</span><span class="token prefix inserted">+</span><span class="token line">    selectAll,
</span><span class="token prefix inserted">+</span><span class="token line">    sort,
</span><span class="token prefix inserted">+</span><span class="token line">    performAction
</span><span class="token prefix inserted">+</span><span class="token line"> }&quot;&gt;
</span><span class="token prefix inserted">+</span><span class="token line">    &lt;!-- Updated header customization code --&gt;
</span><span class="token prefix inserted">+</span><span class="token line"> &lt;/template&gt;
</span></span></code></pre></div><ol start="2"><li>Previously, the data grid <code>body</code> was customized using parameters such as <code>columns</code>, <code>records</code>, <code>setCurrentSelectionMode</code>, <code>applied</code>, and <code>isLoading</code>. However, with the latest updates, the parameter names have been revised for clarity and consistency across components.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> &lt;template #body=&quot;{ columns, records, setCurrentSelectionMode, applied, isLoading }&quot;&gt;
</span><span class="token prefix deleted">-</span><span class="token line">    &lt;!-- Updated body customization code --&gt;
</span><span class="token prefix deleted">-</span><span class="token line"> &lt;/template&gt;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> &lt;template #body=&quot;{
</span><span class="token prefix inserted">+</span><span class="token line">    isLoading,
</span><span class="token prefix inserted">+</span><span class="token line">    available,
</span><span class="token prefix inserted">+</span><span class="token line">    applied,
</span><span class="token prefix inserted">+</span><span class="token line">    selectAll,
</span><span class="token prefix inserted">+</span><span class="token line">    sort,
</span><span class="token prefix inserted">+</span><span class="token line">    performAction
</span><span class="token prefix inserted">+</span><span class="token line"> }&quot;&gt;
</span><span class="token prefix inserted">+</span><span class="token line">    &lt;!-- Updated body customization code --&gt;
</span><span class="token prefix inserted">+</span><span class="token line"> &lt;/template&gt;
</span></span></code></pre></div><p><a name="checkout"></a></p> <h3 id="checkout"><a href="#checkout" class="header-anchor">#</a> Checkout</h3> <p><a name="the-checkout-tables-schema-updates"></a></p> <h4 id="the-checkout-tables-schema-updates"><a href="#the-checkout-tables-schema-updates" class="header-anchor">#</a> The Checkout Tables Schema Updates</h4> <p><strong>Impact Probability: Medium</strong></p> <p>1: New columns related to managing inclusive tax have been added to the <code>cart</code> table.</p> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> Schema::table('cart', function (Blueprint $table) {
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('shipping_amount', 12, 4)-&gt;default(0)-&gt;after('base_discount_amount');
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('base_shipping_amount', 12, 4)-&gt;default(0)-&gt;after('shipping_amount');
</span><span class="token prefix inserted">+</span><span class="token line"> 
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('shipping_amount_incl_tax', 12, 4)-&gt;default(0)-&gt;after('base_shipping_amount');
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('base_shipping_amount_incl_tax', 12, 4)-&gt;default(0)-&gt;after('shipping_amount_incl_tax');
</span><span class="token prefix inserted">+</span><span class="token line"> 
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('sub_total_incl_tax', 12, 4)-&gt;default(0)-&gt;after('base_shipping_amount_incl_tax');
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('base_sub_total_incl_tax', 12, 4)-&gt;default(0)-&gt;after('sub_total_incl_tax');
</span><span class="token prefix inserted">+</span><span class="token line"> });
</span></span></code></pre></div><p>2: New columns related to managing inclusive tax have been added to the <code>cart_items</code> table.</p> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> Schema::table('cart_items', function (Blueprint $table) {
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('price_incl_tax', 12, 4)-&gt;default(0)-&gt;after('base_discount_amount');
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('base_price_incl_tax', 12, 4)-&gt;default(0)-&gt;after('price_incl_tax');
</span><span class="token prefix inserted">+</span><span class="token line"> 
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('total_incl_tax', 12, 4)-&gt;default(0)-&gt;after('base_price_incl_tax');
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('base_total_incl_tax', 12, 4)-&gt;default(0)-&gt;after('total_incl_tax');
</span><span class="token prefix inserted">+</span><span class="token line"> 
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;string('applied_tax_rate')-&gt;nullable()-&gt;after('base_total_incl_tax');
</span><span class="token prefix inserted">+</span><span class="token line"> });
</span></span></code></pre></div><p>3: New columns related to managing inclusive shipping tax have been added to the <code>cart_shipping_rates</code> table.</p> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> Schema::table('cart_shipping_rates', function (Blueprint $table) {
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('tax_percent', 12, 4)-&gt;default(0)-&gt;after('base_discount_amount');
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('tax_amount', 12, 4)-&gt;default(0)-&gt;after('tax_percent');
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('base_tax_amount', 12, 4)-&gt;default(0)-&gt;after('tax_amount');
</span><span class="token prefix inserted">+</span><span class="token line"> 
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('price_incl_tax', 12, 4)-&gt;default(0)-&gt;after('base_tax_amount');
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('base_price_incl_tax', 12, 4)-&gt;default(0)-&gt;after('price_incl_tax');
</span><span class="token prefix inserted">+</span><span class="token line"> 
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;string('applied_tax_rate')-&gt;nullable()-&gt;after('base_price_incl_tax');
</span><span class="token prefix inserted">+</span><span class="token line"> });
</span></span></code></pre></div><p><a name="the-cart-model"></a></p> <h4 id="the-webkul-checkout-models-cart-model"><a href="#the-webkul-checkout-models-cart-model" class="header-anchor">#</a> The <code>Webkul\Checkout\Models\Cart</code> model</h4> <p><strong>Impact Probability: Medium</strong></p> <ol><li>The <code>addresses</code> method has been removed. It was previously utilized in the <code>billing_address</code> and <code>shipping_address</code> methods. We have now revised both the <code>billing_address</code> and <code>shipping_address</code> relationships, rendering the addresses method unnecessary.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function addresses(): \Illuminate\Database\Eloquent\Relations\HasMany
</span><span class="token prefix deleted">-</span><span class="token line"> {
</span><span class="token prefix deleted">-</span><span class="token line">     return $this-&gt;hasMany(CartAddressProxy::modelClass());
</span><span class="token prefix deleted">-</span><span class="token line"> }
</span></span></code></pre></div><ol start="2"><li>We have revised the <code>billing_address</code> method to return a HasOne object instead of a HasMany object. Additionally, we have removed the <code>getBillingAddressAttribute</code> accessor, as the <code>billing_address</code> method now methods identically to it.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function billing_address(): \Illuminate\Database\Eloquent\Relations\HasMany
</span><span class="token prefix deleted">-</span><span class="token line"> {
</span><span class="token prefix deleted">-</span><span class="token line">     return $this-&gt;addresses()
</span><span class="token prefix deleted">-</span><span class="token line">         -&gt;where('address_type', CartAddress::ADDRESS_TYPE_BILLING);
</span><span class="token prefix deleted">-</span><span class="token line"> }
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> public function billing_address(): \Illuminate\Database\Eloquent\Relations\HasOne
</span><span class="token prefix inserted">+</span><span class="token line"> {
</span><span class="token prefix inserted">+</span><span class="token line">     return $this-&gt;hasOne(CartAddressProxy::modelClass())-&gt;where('address_type', CartAddress::ADDRESS_TYPE_BILLING);
</span><span class="token prefix inserted">+</span><span class="token line"> }
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function getBillingAddressAttribute()
</span><span class="token prefix deleted">-</span><span class="token line"> {
</span><span class="token prefix deleted">-</span><span class="token line">     return $this-&gt;billing_address()-&gt;first();
</span><span class="token prefix deleted">-</span><span class="token line"> }
</span></span></code></pre></div><ol start="3"><li>We have revised the <code>shipping_address</code> method to return a HasOne object instead of a HasMany object. Additionally, we have removed the <code>getShippingAddressAttribute</code> accessor, as the <code>shipping_address</code> method now methods identically to it.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function shipping_address(): \Illuminate\Database\Eloquent\Relations\HasMany
</span><span class="token prefix deleted">-</span><span class="token line"> {
</span><span class="token prefix deleted">-</span><span class="token line">     return $this-&gt;addresses()
</span><span class="token prefix deleted">-</span><span class="token line">         -&gt;where('address_type', CartAddress::ADDRESS_TYPE_SHIPPING);
</span><span class="token prefix deleted">-</span><span class="token line"> }
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> public function shipping_address(): \Illuminate\Database\Eloquent\Relations\HasOne
</span><span class="token prefix inserted">+</span><span class="token line"> {
</span><span class="token prefix inserted">+</span><span class="token line">     return $this-&gt;hasOne(CartAddressProxy::modelClass())-&gt;where('address_type', CartAddress::ADDRESS_TYPE_SHIPPING);
</span><span class="token prefix inserted">+</span><span class="token line"> }
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function getShippingAddressAttribute()
</span><span class="token prefix deleted">-</span><span class="token line"> {
</span><span class="token prefix deleted">-</span><span class="token line">     return $this-&gt;shipping_address()-&gt;first();
</span><span class="token prefix deleted">-</span><span class="token line"> }
</span></span></code></pre></div><ol start="4"><li>We have updated the <code>shipping_rates</code> method to return a HasMany object instead of a HasManyThrough object, as shipping rates are now directly associated with the cart.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function shipping_rates(): \Illuminate\Database\Eloquent\Relations\HasManyThrough
</span><span class="token prefix deleted">-</span><span class="token line"> {
</span><span class="token prefix deleted">-</span><span class="token line">     return $this-&gt;hasManyThrough(CartShippingRateProxy::modelClass(), CartAddressProxy::modelClass(), 'cart_id', 'cart_address_id');
</span><span class="token prefix deleted">-</span><span class="token line"> }
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> public function shipping_rates(): \Illuminate\Database\Eloquent\Relations\HasMany
</span><span class="token prefix inserted">+</span><span class="token line"> {
</span><span class="token prefix inserted">+</span><span class="token line">     return $this-&gt;hasMany(CartShippingRateProxy::modelClass());
</span><span class="token prefix inserted">+</span><span class="token line"> }
</span></span></code></pre></div><p><a name="removed-cart-traits"></a></p> <h4 id="removed-cart-traits"><a href="#removed-cart-traits" class="header-anchor">#</a> Removed Cart Traits</h4> <p><strong>Impact Probability: Low</strong></p> <p>All methods from the following traits have been relocated to the <code>Webkul\Checkout\Cart</code> class, and the traits have been removed.</p> <div markdown="1" class="content-list"><ul><li><code>Webkul\Checkout\Traits\CartCoupons</code> trait</li> <li><code>Webkul\Checkout\Traits\CartTools</code> trait</li> <li><code>Webkul\Checkout\Traits\CartValidators</code> trait</li></ul></div> <p><a name="the-cart-class"></a></p> <h4 id="the-webkul-checkout-cart-class"><a href="#the-webkul-checkout-cart-class" class="header-anchor">#</a> The <code>Webkul\Checkout\Cart</code> class</h4> <p><strong>Impact Probability: High</strong></p> <ol><li>The <code>initCart</code> method now accepts an optional <code>Webkul\Customer\Models\Customer</code> model instance and initializes the cart based on this parameter.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function initCart()
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> public function initCart(?CustomerContract $customer = null): void
</span></span>
</code></pre></div><ol start="2"><li><p>The <code>getCart</code> method now exclusively returns the cart itself, meaning it will no longer retrieve the current cart.</p></li> <li><p>We have updated the <code>addProduct</code> method to accept the <code>Webkul\Product\Models\Product</code> model instance as the first parameter instead of the product ID.</p></li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function addProduct($productId, $data)
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> public function addProduct(ProductContract $product, array $data): Contracts\Cart|\Exception
</span></span>
</code></pre></div><ol start="4"><li>We've renamed the <code>create</code> method to <code>createCart</code></li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function create($data)
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> public function createCart(array $data): ?Contracts\Cart
</span></span></code></pre></div><ol start="5"><li>The <code>emptyCart</code> method has been renamed to <code>removeCart</code>, and it now accepts a cart model instance.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function emptyCart()
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> public function removeCart(Contracts\Cart $cart): void
</span></span></code></pre></div><ol start="6"><li>We have introduced a new method called <code>refreshCart</code>. This method retrieves a refreshed cart instance from the database.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> public function refreshCart(): void
</span></span></code></pre></div><ol start="7"><li>The <code>putCart</code> method previously found in CartTools has been eliminated. It is now managed within the setCart method in the <code>Webkul\Checkout\Cart</code> class.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function putCart($cart)
</span></span></code></pre></div><ol start="8"><li>We've enhanced the mergeCart method to now accept an instance of the <code>Webkul\Customer\Models\Customer</code> model. Previously, we merged the guest cart with the logged-in customer's cart by fetching the current customer within this method. However, it now directly accepts the <code>Webkul\Customer\Models\Customer</code> model instance.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function mergeCart(): void
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> public function mergeCart(CustomerContract $customer): void
</span></span></code></pre></div><ol start="9"><li>The <code>saveCustomerDetails</code> method has been renamed to <code>setCustomerPersonnelDetails</code></li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function saveCustomerDetails(): void
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> public function setCustomerPersonnelDetails(): void
</span></span></code></pre></div><ol start="10"><li>We have removed the following methods and relocated the cart data transformation to a separate resource class named <code>Webkul\Sales\Transformers\OrderResource</code>.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function prepareDataForOrder(): array
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function prepareDataForOrderItem(): array
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function toArray(): array
</span></span></code></pre></div><ol start="11"><li>The <code>collectTotals</code> method now returns a self instance instead of void, allowing for chaining multiple methods with the Cart facade.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function collectTotals(): void
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> public function collectTotals(): self
</span></span></code></pre></div><p><a name="datagrid"></a></p> <h3 id="datagrid"><a href="#datagrid" class="header-anchor">#</a> DataGrid</h3> <p><a name="the-datagrid-class"></a></p> <h4 id="the-webkul-datagrid-datagrid-class"><a href="#the-webkul-datagrid-datagrid-class" class="header-anchor">#</a> The <code>Webkul\DataGrid\DataGrid</code> Class</h4> <p><strong>Impact Probability: Medium</strong></p> <ol><li>We have made some of the methods in this class protected. Here are the methods, please have a look.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function validatedRequest(): array
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> protected function validatedRequest(): array
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function processRequestedFilters(array $requestedFilters)
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> protected function processRequestedFilters(array $requestedFilters)
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function processRequestedSorting($requestedSort)
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> protected function processRequestedSorting($requestedSort)
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function processRequestedPagination($requestedPagination): LengthAwarePaginator
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> protected function processRequestedPagination($requestedPagination): LengthAwarePaginator
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function processRequest(): void
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> protected function processRequest(): void
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function sanitizeRow($row): \stdClass
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> protected function sanitizeRow($row): \stdClass
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function formatData(): array
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> protected function formatData(): array
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function prepare(): void
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> protected function prepare(): void
</span></span></code></pre></div><ol start="2"><li>We have deprecated the 'toJson' method. Instead of 'toJson', please use the 'process' method.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> app(AttributeDataGrid::class)-&gt;toJson();
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> datagrid(AttributeDataGrid::class)-&gt;process();
</span></span></code></pre></div><ol start="3"><li>The setExportFile method will now only accept the file format:</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function setExportFile($records, $format = 'csv') 
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> public function setExportFile($format = 'csv')
</span></span></code></pre></div><p><a name="the-column-class"></a></p> <h4 id="the-webkul-datagrid-src-column-class"><a href="#the-webkul-datagrid-src-column-class" class="header-anchor">#</a> The <code>Webkul/DataGrid/src/Column</code> Class</h4> <p><strong>Impact Probability: Medium</strong></p> <ol><li>The <code>Column</code> class has undergone a change in how it stores the fully qualified column name. The property name and its access level have been modified.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public $databaseColumnName;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> protected $columnName;
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public string $index;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> protected string $index;
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public string $label;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> protected string $label;
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public string $type;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> protected string $type;
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public bool $searchable = false;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> protected bool $searchable = false;
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public bool $filterable = false,
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> protected bool $filterable = false;
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public bool $sortable = false,
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> protected bool $sortable = false;
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public mixed $closure = null,
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> protected mixed $closure = null;
</span></span></code></pre></div><ol start="2"><li>The setDatabaseColumnName method has been renamed to setColumnName  and the getDatabaseColumnName method has been renamed to geDatabaseColumnName.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function setDatabaseColumnName(mixed $databaseColumnName = null)
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> public function setColumnName(mixed $columnName): void
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function getDatabaseColumnName(): mixed
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> public function getColumnName(): mixed
</span></span></code></pre></div><ol start="3"><li>The <code>getRangeOptions</code> method has been removed from <code>Column</code> class and its functionality is now managed by the <code>DateRangeOptionEnum</code> class located in <code>Webkul/DataGrid/src/Enums/DateRangeOptionEnum.php</code> through the <code>options</code>  method.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function getRangeOptions(string $format = 'Y-m-d'): array
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> public static function options(string $format = 'Y-m-d H:i:s'): array
</span></span></code></pre></div><ol start="4"><li>The following methods have been removed from the backend and their functionalities are now managed from the front end:</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function setFormInputType(string $formInputType): void
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function getFormInputType(): ?string
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function setFormOptions(array $formOptions): void
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function getFormOptions(): ?array
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function getBooleanOptions(): array
</span></span></code></pre></div><ol start="5"><li>The <code>Column</code> class constructor now accepts a single array of properties instead of individual parameters.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function __construct(
</span><span class="token prefix deleted">-</span><span class="token line">    public string $index,
</span><span class="token prefix deleted">-</span><span class="token line">    public string $label,
</span><span class="token prefix deleted">-</span><span class="token line">    public string $type,
</span><span class="token prefix deleted">-</span><span class="token line">    public ?array $options = null,
</span><span class="token prefix deleted">-</span><span class="token line">    public bool $searchable = false,
</span><span class="token prefix deleted">-</span><span class="token line">    public bool $filterable = false,
</span><span class="token prefix deleted">-</span><span class="token line">    public bool $sortable = false,
</span><span class="token prefix deleted">-</span><span class="token line">    public mixed $closure = null,
</span><span class="token prefix deleted">-</span><span class="token line"> ) {
</span><span class="token prefix deleted">-</span><span class="token line">      $this-&gt;init();
</span><span class="token prefix deleted">-</span><span class="token line"> }
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> public function __construct(array $column)
</span><span class="token prefix inserted">+</span><span class="token line"> {
</span><span class="token prefix inserted">+</span><span class="token line">   $this-&gt;init($column);
</span><span class="token prefix inserted">+</span><span class="token line"> }
</span></span></code></pre></div><ol start="6"><li>The column types are now updated The available column types are now defined as follows:<code>string</code>, <code>integer</code>, <code>float</code>, <code>boolean</code>, <code>date</code>, <code>datetime</code>, <code>aggregate</code>.
And the available FilterType <code>filterable_type</code> are now defined as follows: <code>dropdown</code>,<code>date_range</code>,<code>datetime_range</code>.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> $this-&gt;addColumn([
</span><span class="token prefix deleted">-</span><span class="token line">    'index'      =&gt; 'attribute_family',
</span><span class="token prefix deleted">-</span><span class="token line">    'label'      =&gt; trans('admin::app.catalog.products.index.datagrid.attribute-family'),
</span><span class="token prefix deleted">-</span><span class="token line">    'type'       =&gt; 'dropdown',
</span><span class="token prefix deleted">-</span><span class="token line">    'options'    =&gt; [
</span><span class="token prefix deleted">-</span><span class="token line">        'type' =&gt; 'basic',
</span><span class="token prefix deleted">-</span><span class="token line">        'params' =&gt; [
</span><span class="token prefix deleted">-</span><span class="token line">            'options' =&gt; $this-&gt;attributeFamilyRepository-&gt;all(['name as label', 'id as value'])-&gt;toArray(),
</span><span class="token prefix deleted">-</span><span class="token line">        ],
</span><span class="token prefix deleted">-</span><span class="token line">    ],
</span><span class="token prefix deleted">-</span><span class="token line">    'searchable' =&gt; false,
</span><span class="token prefix deleted">-</span><span class="token line">    'filterable' =&gt; true,
</span><span class="token prefix deleted">-</span><span class="token line">    'sortable'   =&gt; false,
</span><span class="token prefix deleted">-</span><span class="token line"> ]); 
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> $this-&gt;addColumn([
</span><span class="token prefix inserted">+</span><span class="token line">    'index'              =&gt; 'attribute_family',
</span><span class="token prefix inserted">+</span><span class="token line">    'label'              =&gt; trans('admin::app.catalog.products.index.datagrid.attribute-family'),
</span><span class="token prefix inserted">+</span><span class="token line">    'type'               =&gt; 'string',
</span><span class="token prefix inserted">+</span><span class="token line">    'filterable'         =&gt; true,
</span><span class="token prefix inserted">+</span><span class="token line">    'filterable_type'    =&gt; 'dropdown',
</span><span class="token prefix inserted">+</span><span class="token line">    'filterable_options' =&gt; $this-&gt;attributeFamilyRepository-&gt;all(['name as label', 'id as value'])-&gt;toArray(),
</span><span class="token prefix inserted">+</span><span class="token line"> ]);
</span></span></code></pre></div><ol start="7"><li>By default, the properties <code>searchable</code>, <code>filterable</code>, and <code>sortable</code> will be false if you need to activate them, set them to <code>true</code>.</li></ol> <p><a name="the-datagrid-export-class"></a></p> <h4 id="the-webkul-admin-exports-datagridexport-class"><a href="#the-webkul-admin-exports-datagridexport-class" class="header-anchor">#</a> The <code>Webkul\Admin\Exports\DataGridExport</code> Class</h4> <p><strong>Impact Probability: Medium</strong></p> <ol><li>This class will now accept the full DataGrid instance instead of the records to enhance the export features:</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function __construct(protected $gridData = [])
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> public function __construct(protected DataGrid $datagrid)
</span></span></code></pre></div><p><a name="notification"></a></p> <h3 id="notification"><a href="#notification" class="header-anchor">#</a> Notification</h3> <p><a name="the-notification-repository"></a></p> <h4 id="the-webkul-notification-repositories-notificationrepository-repository"><a href="#the-webkul-notification-repositories-notificationrepository-repository" class="header-anchor">#</a> The <code>Webkul\Notification\Repositories\NotificationRepository</code> Repository</h4> <p><strong>Impact Probability: Medium</strong></p> <ol><li>We've made revisions to the <code>getAll</code> method to allow for optional parameters.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function getAll()
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> public function getAll(array $params = [])
</span></span></code></pre></div><p><a name="product"></a></p> <h3 id="product"><a href="#product" class="header-anchor">#</a> Product</h3> <p><a name="the-elastic-search-repository"></a></p> <h4 id="the-webkul-product-repositories-elasticsearchrepository-repository"><a href="#the-webkul-product-repositories-elasticsearchrepository-repository" class="header-anchor">#</a> The <code>Webkul\Product\Repositories\ElasticSearchRepository</code> Repository</h4> <p><strong>Impact Probability: Medium</strong></p> <ol><li>We have enhanced the <code>search</code> method to accept two arguments. The first argument is an array containing the search parameters (e.g., category_id, etc.), while the second argument is an array containing the options.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function search($categoryId, $options)
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> public function search(array $params, array $options): array
</span></span></code></pre></div><ol start="2"><li>We've enhanced the <code>getFilters</code> method to now accept an array of parameters, as request parameters will originate from the search method itself.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function getFilters()
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> public function getFilters(array $params): array
</span></span></code></pre></div><p><a name="the-product-repository"></a></p> <h4 id="the-webkul-product-repositories-productrepository-repository"><a href="#the-webkul-product-repositories-productrepository-repository" class="header-anchor">#</a> The <code>Webkul\Product\Repositories\ProductRepository</code> Repository</h4> <p><strong>Impact Probability: Medium</strong></p> <ol><li>We've made revisions to the <code>getAll</code> method to allow for optional search parameters.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function getAll()
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> public function getAll(array $params = [])
</span></span></code></pre></div><p>Previously, this method returned only active products. Now, it returns all products by default. To retrieve active products, you need to pass <code>status</code> and <code>visible_individually</code> as <code>1</code>. Additionally, you can pass <code>channel_id</code> to filter products specific to a channel. You can also specify the search engine by using <code>setSearchEngine</code> and passing either <code>database</code> or <code>elastic</code>.</p> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> $products = $this-&gt;productRepository-&gt;getAll();
</span></span>
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> $products = $this-&gt;productRepository
</span><span class="token prefix inserted">+</span><span class="token line">     -&gt;setSearchEngine('database')
</span><span class="token prefix inserted">+</span><span class="token line">     -&gt;getAll(array_merge(request()-&gt;query(), [
</span><span class="token prefix inserted">+</span><span class="token line">         'channel_id'           =&gt; core()-&gt;getCurrentChannel()-&gt;id,
</span><span class="token prefix inserted">+</span><span class="token line">         'status'               =&gt; 1,
</span><span class="token prefix inserted">+</span><span class="token line">         'visible_individually' =&gt; 1,
</span><span class="token prefix inserted">+</span><span class="token line">     ]));
</span></span></code></pre></div><ol start="2"><li>We've made revisions to the <code>searchFromDatabase</code> method to allow for optional search parameters.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function searchFromDatabase()
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> public function searchFromDatabase(array $params = [])
</span></span></code></pre></div><ol start="3"><li>We've made revisions to the <code>searchFromElastic</code> method to allow for optional search parameters.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function searchFromElastic()
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> public function searchFromElastic(array $params = [])
</span></span></code></pre></div><p><a name="the-product-type-class"></a></p> <h4 id="the-product-types-classes-updates"><a href="#the-product-types-classes-updates" class="header-anchor">#</a> The Product Types Classes Updates</h4> <p>If you've implemented your own product type or overridden existing type classes, you'll need to update the following methods to include inclusive tax management.</p> <p><strong>Impact Probability: Low</strong></p> <p>1: The <code>evaluatePrice</code> and <code>getTaxInclusiveRate</code> methods have been removed. Please update your <code>getProductPrices</code> method accordingly to no longer use these methods.</p> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function evaluatePrice($price)
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function getTaxInclusiveRate($totalPrice)
</span></span></code></pre></div><p>2: Please update your <code>prepareForCart</code> and <code>validateCartItem</code> methods to include the <code>*_incl_tax</code> columns for managing inclusive tax calculation for your product type. You can refer to the <code>Webkul\Product\Type\AbstractType</code> class and adjust your class accordingly.</p> <p><a name="the-configurable-type-class"></a></p> <h4 id="the-webkul-product-type-configurable-class"><a href="#the-webkul-product-type-configurable-class" class="header-anchor">#</a> The <code>Webkul\Product\Type\Configurable</code> Class</h4> <p><strong>Impact Probability: High</strong></p> <ol><li>We've removed the following methods from the <code>Webkul\Product\Type\Configurable</code> class as we no longer support default configurable variants.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function getDefaultVariant()
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function getDefaultVariantId()
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function setDefaultVariantId()
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function updateDefaultVariantId()
</span></span></code></pre></div><p><a name="the-elastic-indexing"></a></p> <h4 id="the-product-elastic-search-indexing"><a href="#the-product-elastic-search-indexing" class="header-anchor">#</a> The product Elastic Search indexing</h4> <p><strong>Impact Probability: Medium</strong></p> <p>Previously, Elastic Search was used only on the frontend and not in the admin section. For large catalogs, this caused the Product datagrid to be very slow. To address this issue, we have now introduced Elastic Search in the admin section as well.</p> <p>To make Elastic Search compatible with the admin section, some changes were necessary. Previously, only active products were indexed in Elastic Search. Now, all products are indexed with additional keys/information.</p> <p>Please run the following command to refresh the Elastic Search indices:</p> <div class="language-diff extra-class"><pre class="language-diff"><code>php artisan indexer:index --type=elastic
</code></pre></div><p><a name="Sales"></a></p> <h3 id="sales"><a href="#sales" class="header-anchor">#</a> Sales</h3> <p><a name="the-sales-tables-schema-updates"></a></p> <h4 id="the-sales-tables-schema-updates"><a href="#the-sales-tables-schema-updates" class="header-anchor">#</a> The Sales Tables Schema Updates</h4> <p><strong>Impact Probability: Medium</strong></p> <p>1: New columns related to managing inclusive tax have been added to the <code>orders</code> table.</p> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> Schema::table('orders', function (Blueprint $table) {
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('shipping_tax_amount', 12, 4)-&gt;default(0)-&gt;after('base_shipping_discount_amount');
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('base_shipping_tax_amount', 12, 4)-&gt;default(0)-&gt;after('shipping_tax_amount');
</span><span class="token prefix inserted">+</span><span class="token line"> 
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('shipping_tax_refunded', 12, 4)-&gt;default(0)-&gt;after('base_shipping_tax_amount');
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('base_shipping_tax_refunded', 12, 4)-&gt;default(0)-&gt;after('shipping_tax_refunded');
</span><span class="token prefix inserted">+</span><span class="token line"> 
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('sub_total_incl_tax', 12, 4)-&gt;default(0)-&gt;after('base_shipping_tax_refunded');
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('base_sub_total_incl_tax', 12, 4)-&gt;default(0)-&gt;after('sub_total_incl_tax');
</span><span class="token prefix inserted">+</span><span class="token line"> 
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('shipping_amount_incl_tax', 12, 4)-&gt;default(0)-&gt;after('base_sub_total_incl_tax');
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('base_shipping_amount_incl_tax', 12, 4)-&gt;default(0)-&gt;after('shipping_amount_incl_tax');
</span><span class="token prefix inserted">+</span><span class="token line"> });
</span></span></code></pre></div><p>2: New columns related to managing inclusive tax have been added to the <code>order_items</code> table.</p> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> Schema::table('order_items', function (Blueprint $table) {
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('price_incl_tax', 12, 4)-&gt;default(0)-&gt;after('base_tax_amount_refunded');
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('base_price_incl_tax', 12, 4)-&gt;default(0)-&gt;after('price_incl_tax');
</span><span class="token prefix inserted">+</span><span class="token line">
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('total_incl_tax', 12, 4)-&gt;default(0)-&gt;after('base_price_incl_tax');
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('base_total_incl_tax', 12, 4)-&gt;default(0)-&gt;after('total_incl_tax');
</span><span class="token prefix inserted">+</span><span class="token line"> });
</span></span></code></pre></div><p>3: New columns related to managing inclusive tax have been added to the <code>invoices</code> table.</p> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> Schema::table('invoices', function (Blueprint $table) {
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('shipping_tax_amount', 12, 4)-&gt;default(0)-&gt;after('base_discount_amount');
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('base_shipping_tax_amount', 12, 4)-&gt;default(0)-&gt;after('shipping_tax_amount');
</span><span class="token prefix inserted">+</span><span class="token line"> 
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('sub_total_incl_tax', 12, 4)-&gt;default(0)-&gt;after('base_shipping_tax_amount');
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('base_sub_total_incl_tax', 12, 4)-&gt;default(0)-&gt;after('sub_total_incl_tax');
</span><span class="token prefix inserted">+</span><span class="token line"> 
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('shipping_amount_incl_tax', 12, 4)-&gt;default(0)-&gt;after('base_sub_total_incl_tax');
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('base_shipping_amount_incl_tax', 12, 4)-&gt;default(0)-&gt;after('shipping_amount_incl_tax');
</span><span class="token prefix inserted">+</span><span class="token line"> });
</span></span></code></pre></div><p>4: New columns related to managing inclusive tax have been added to the <code>invoice_items</code> table.</p> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> Schema::table('invoice_items', function (Blueprint $table) {
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('price_incl_tax', 12, 4)-&gt;default(0)-&gt;after('base_discount_amount');
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('base_price_incl_tax', 12, 4)-&gt;default(0)-&gt;after('price_incl_tax');
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('total_incl_tax', 12, 4)-&gt;default(0)-&gt;after('base_price_incl_tax');
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('base_total_incl_tax', 12, 4)-&gt;default(0)-&gt;after('total_incl_tax');
</span><span class="token prefix inserted">+</span><span class="token line"> });
</span></span></code></pre></div><p>5: New columns related to managing inclusive tax have been added to the <code>refunds</code> table.</p> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> Schema::table('refunds', function (Blueprint $table) {
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('shipping_tax_amount', 12, 4)-&gt;default(0)-&gt;after('base_discount_amount');
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('base_shipping_tax_amount', 12, 4)-&gt;default(0)-&gt;after('shipping_tax_amount');
</span><span class="token prefix inserted">+</span><span class="token line"> 
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('sub_total_incl_tax', 12, 4)-&gt;default(0)-&gt;after('base_shipping_tax_amount');
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('base_sub_total_incl_tax', 12, 4)-&gt;default(0)-&gt;after('sub_total_incl_tax');
</span><span class="token prefix inserted">+</span><span class="token line"> 
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('shipping_amount_incl_tax', 12, 4)-&gt;default(0)-&gt;after('base_sub_total_incl_tax');
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('base_shipping_amount_incl_tax', 12, 4)-&gt;default(0)-&gt;after('shipping_amount_incl_tax');
</span><span class="token prefix inserted">+</span><span class="token line"> });
</span></span></code></pre></div><p>6: New columns related to managing inclusive tax have been added to the <code>refund_items</code> table.</p> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> Schema::table('refund_items', function (Blueprint $table) {
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('price_incl_tax', 12, 4)-&gt;default(0)-&gt;after('base_discount_amount');
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('base_price_incl_tax', 12, 4)-&gt;default(0)-&gt;after('price_incl_tax');
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('total_incl_tax', 12, 4)-&gt;default(0)-&gt;after('base_price_incl_tax');
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('base_total_incl_tax', 12, 4)-&gt;default(0)-&gt;after('total_incl_tax');
</span><span class="token prefix inserted">+</span><span class="token line"> });
</span></span></code></pre></div><p>7: New columns related to managing inclusive tax have been added to the <code>shipment_items</code> table.</p> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> Schema::table('shipment_items', function (Blueprint $table) {
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('price_incl_tax', 12, 4)-&gt;default(0)-&gt;after('base_total');
</span><span class="token prefix inserted">+</span><span class="token line">     $table-&gt;decimal('base_price_incl_tax', 12, 4)-&gt;default(0)-&gt;after('price_incl_tax');
</span><span class="token prefix inserted">+</span><span class="token line"> });
</span></span></code></pre></div><p><strong>Impact Probability: Low</strong></p> <p><a name="the-order-item-repository"></a></p> <h4 id="the-webkul-sales-repositories-orderitemrepository-repository"><a href="#the-webkul-sales-repositories-orderitemrepository-repository" class="header-anchor">#</a> The <code>Webkul\Sales\Repositories\OrderItemRepository</code> Repository</h4> <ol><li>The <code>create</code> method has been removed. Previously, it was overridden to set product_id and product_type for the polymorphic relation between <code>Webkul\Sales\Models\OrderItem</code> and <code>Webkul\Product\Models\Product</code>. Now, this information is obtained from the cart transformer <code>Webkul\Sales\Transformers\OrderResource</code>.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public function create(array $data)
</span></span></code></pre></div><p><a name="shop"></a></p> <h3 id="shop"><a href="#shop" class="header-anchor">#</a> Shop</h3> <p><a name="shop-customized-datagrid-parameters-updated"></a></p> <h4 id="shop-customized-datagrid-parameters-updated"><a href="#shop-customized-datagrid-parameters-updated" class="header-anchor">#</a> Shop Customized Datagrid Parameters Updated</h4> <p><strong>Impact Probability: Medium</strong></p> <ol><li>Previously, the data grid <code>header</code> was customized using parameters such as <code>columns</code>, <code>records</code>, <code>sortPage</code>, <code>selectAllRecords</code>, <code>applied</code>, and <code>isLoading</code>. However, with the latest updates, the parameter names have been revised for clarity and consistency across components.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> &lt;template #header=&quot;{ columns, records, sortPage, selectAllRecords, applied, isLoading}&quot;&gt;
</span><span class="token prefix deleted">-</span><span class="token line">    &lt;!-- Header customization code --&gt;
</span><span class="token prefix deleted">-</span><span class="token line"> &lt;/template&gt;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> &lt;template #header=&quot;{
</span><span class="token prefix inserted">+</span><span class="token line">    isLoading,
</span><span class="token prefix inserted">+</span><span class="token line">    available,
</span><span class="token prefix inserted">+</span><span class="token line">    applied,
</span><span class="token prefix inserted">+</span><span class="token line">    selectAll,
</span><span class="token prefix inserted">+</span><span class="token line">    sort,
</span><span class="token prefix inserted">+</span><span class="token line">    performAction
</span><span class="token prefix inserted">+</span><span class="token line"> }&quot;&gt;
</span><span class="token prefix inserted">+</span><span class="token line">    &lt;!-- Updated header customization code --&gt;
</span><span class="token prefix inserted">+</span><span class="token line"> &lt;/template&gt;
</span></span></code></pre></div><ol start="2"><li>Previously, the data grid <code>body</code> was customized using parameters such as <code>columns</code>, <code>records</code>, <code>setCurrentSelectionMode</code>, <code>applied</code>, and <code>isLoading</code>. However, with the latest updates, the parameter names have been revised for clarity and consistency across components.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> &lt;template #body=&quot;{ columns, records, setCurrentSelectionMode, applied, isLoading }&quot;&gt;
</span><span class="token prefix deleted">-</span><span class="token line">    &lt;!-- Updated body customization code --&gt;
</span><span class="token prefix deleted">-</span><span class="token line"> &lt;/template&gt;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> &lt;template #body=&quot;{
</span><span class="token prefix inserted">+</span><span class="token line">    isLoading,
</span><span class="token prefix inserted">+</span><span class="token line">    available,
</span><span class="token prefix inserted">+</span><span class="token line">    applied,
</span><span class="token prefix inserted">+</span><span class="token line">    selectAll,
</span><span class="token prefix inserted">+</span><span class="token line">    sort,
</span><span class="token prefix inserted">+</span><span class="token line">    performAction
</span><span class="token prefix inserted">+</span><span class="token line"> }&quot;&gt;
</span><span class="token prefix inserted">+</span><span class="token line">    &lt;!-- Updated body customization code --&gt;
</span><span class="token prefix inserted">+</span><span class="token line"> &lt;/template&gt;
</span></span></code></pre></div><p><a name="shop-event-updates"></a></p> <h4 id="shop-event-updates"><a href="#shop-event-updates" class="header-anchor">#</a> Shop Event Updates</h4> <p><strong>Impact Probability: Medium</strong></p> <h5 id="shop-event-parameter-updated"><a href="#shop-event-parameter-updated" class="header-anchor">#</a> Shop Event Parameter Updated</h5> <ol><li>The event data previously containing an email address has been updated to include an instance of the <code>Webkul\Customer\Models\Customer</code> model.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Event::dispatch('customer.after.login', $loginRequest-&gt;get('email'));
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> Event::dispatch('customer.after.login', auth()-&gt;guard()-&gt;user());
</span></span></code></pre></div><h5 id="shop-event-inside-head-updated"><a href="#shop-event-inside-head-updated" class="header-anchor">#</a> Shop Event Inside Head Updated</h5> <p><strong>Impact Probability: High</strong></p> <ol><li>The event that was previously added in Shop has now been updated in the new format. You can now directly add your own custom elements inside the <code>head</code> tag.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> {!! view_render_event('bagisto.shop.layout.head.before') !!}
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> {!! view_render_event('bagisto.shop.layout.head') !!}
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> {!! view_render_event('bagisto.shop.layout.head.after') !!}
</span></span></code></pre></div><p><a name="renamed-shop-api-routes-names"></a></p> <h4 id="renamed-shop-api-route-names"><a href="#renamed-shop-api-route-names" class="header-anchor">#</a> Renamed Shop API Route Names</h4> <p><strong>Impact Probability: Low</strong></p> <ol><li>The routes names have been renamed for consistency in the <code>packages/Webkul/Shop/src/Routes/api.php</code> route file.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Route::get('', 'index')-&gt;name('api.shop.customers.account.addresses.index');
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> Route::get('', 'index')-&gt;name('shop.api.customers.account.addresses.index');
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Route::post('', 'store')-&gt;name('api.shop.customers.account.addresses.store');
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> Route::post('', 'store')-&gt;name('shop.api.customers.account.addresses.store');
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Route::put('edit/{id?}', 'update')-&gt;name('api.shop.customers.account.addresses.update');
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> Route::put('edit/{id?}', 'update')-&gt;name('shop.api.customers.account.addresses.update');
</span></span></code></pre></div><p><a name="renamed-shop-controller-method-names"></a></p> <h4 id="renamed-shop-controller-method-names"><a href="#renamed-shop-controller-method-names" class="header-anchor">#</a> Renamed Shop Controller Method Names</h4> <p><strong>Impact Probability: Low</strong></p> <ol><li>The controller action names for the following routes have been renamed to ensure consistency with the <code>packages/Webkul/Shop/src/Routes/customer-routes.php</code> route file.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Route::get('', 'show')-&gt;name('shop.customer.session.index');
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> Route::get('', 'index')-&gt;name('shop.customer.session.index');
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Route::post('', 'create')-&gt;name('shop.customer.session.create');
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> Route::post('', 'store')-&gt;name('shop.customer.session.create');
</span></span>
</code></pre></div><p><a name="the-shop-api-response-updates"></a></p> <h4 id="shop-api-response-updates"><a href="#shop-api-response-updates" class="header-anchor">#</a> Shop API Response Updates</h4> <p><strong>Impact Probability: High</strong></p> <ol><li>The response for the Shop route <code>shop.api.checkout.cart.index</code> or <code>/api/checkout/cart</code> API has been updated. If you are consuming this API, please make the necessary changes to accommodate the updated response format.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code>{
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   data: {
</span><span class="token prefix unchanged"> </span><span class="token line">       &quot;id&quot;: 243,
</span><span class="token prefix unchanged"> </span><span class="token line">       &quot;is_guest&quot;: 0,
</span><span class="token prefix unchanged"> </span><span class="token line">       &quot;customer_id&quot;: 1,
</span><span class="token prefix unchanged"> </span><span class="token line">       &quot;items_count&quot;: 1,
</span><span class="token prefix unchanged"> </span><span class="token line">       &quot;items_qty&quot;: 1,
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">       &quot;base_tax_amounts&quot;: [
</span><span class="token prefix deleted">-</span><span class="token line">           &quot;$0.00&quot;
</span><span class="token prefix deleted">-</span><span class="token line">       ],
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">       &quot;applied_taxes&quot;: {
</span><span class="token prefix inserted">+</span><span class="token line">           &quot;US-AL (10%)&quot;: &quot;$10.00&quot;
</span><span class="token prefix inserted">+</span><span class="token line">       },
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">       &quot;base_tax_total&quot;: 10,
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">       &quot;tax_total&quot;: 10,
</span><span class="token prefix unchanged"> </span><span class="token line">       &quot;formatted_tax_total&quot;: &quot;$10.00&quot;,
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">       &quot;base_sub_total&quot;: 100,
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">       &quot;sub_total&quot;: 100,
</span><span class="token prefix unchanged"> </span><span class="token line">       &quot;formatted_sub_total&quot;: &quot;$100.00&quot;,
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">       &quot;sub_total_incl_tax&quot;: 110,
</span><span class="token prefix inserted">+</span><span class="token line">       &quot;formatted_sub_total_incl_tax&quot;: &quot;$110.00&quot;,
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">       &quot;coupon_code&quot;: null,
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">       &quot;base_discount_amount&quot;: 0,
</span><span class="token prefix deleted">-</span><span class="token line">       &quot;formatted_base_discount_amount&quot;: &quot;$0.00&quot;,
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">       &quot;discount_amount&quot;: 0,
</span><span class="token prefix unchanged"> </span><span class="token line">       &quot;formatted_discount_amount&quot;: &quot;$0.00&quot;,
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">       &quot;selected_shipping_rate_method&quot;: &quot;&quot;,
</span><span class="token prefix deleted">-</span><span class="token line">       &quot;selected_shipping_rate&quot;: &quot;$0.00&quot;,
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">       &quot;shipping_method&quot;: &quot;flatrate_flatrate&quot;,
</span><span class="token prefix inserted">+</span><span class="token line">       &quot;shipping_amount&quot;: 5,
</span><span class="token prefix inserted">+</span><span class="token line">       &quot;formatted_shipping_amount&quot;: &quot;$5.00&quot;,
</span><span class="token prefix inserted">+</span><span class="token line">       &quot;shipping_amount_incl_tax&quot;: &quot;5.0000&quot;,
</span><span class="token prefix inserted">+</span><span class="token line">       &quot;formatted_shipping_amount_incl_tax&quot;: &quot;$5.00&quot;,
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">       &quot;base_grand_total&quot;: 115,
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">       &quot;grand_total&quot;: 115,
</span><span class="token prefix unchanged"> </span><span class="token line">       &quot;formatted_grand_total&quot;: &quot;$115.00&quot;,
</span><span class="token prefix unchanged"> </span><span class="token line">       &quot;have_stockable_items&quot;: true,
</span><span class="token prefix unchanged"> </span><span class="token line">       &quot;payment_method&quot;: null,
</span><span class="token prefix unchanged"> </span><span class="token line">       &quot;payment_method_title&quot;: null
</span><span class="token prefix unchanged"> </span><span class="token line">       &quot;billing_address&quot;: null,
</span><span class="token prefix unchanged"> </span><span class="token line">       &quot;shipping_address&quot;: null,
</span><span class="token prefix unchanged"> </span><span class="token line">       &quot;items&quot;: [
</span><span class="token prefix unchanged"> </span><span class="token line">           {
</span><span class="token prefix unchanged"> </span><span class="token line">               &quot;id&quot;: 544,
</span><span class="token prefix unchanged"> </span><span class="token line">               &quot;quantity&quot;: 1,
</span><span class="token prefix unchanged"> </span><span class="token line">               &quot;type&quot;: &quot;configurable&quot;,
</span><span class="token prefix unchanged"> </span><span class="token line">               &quot;name&quot;: &quot;OmniHeat Men's Solid Hooded Puffer Jacket&quot;,
</span><span class="token prefix unchanged"> </span><span class="token line">               &quot;price&quot;: &quot;100.0000&quot;,
</span><span class="token prefix unchanged"> </span><span class="token line">               &quot;formatted_price&quot;: &quot;$100.00&quot;,
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">               &quot;price_incl_tax&quot;: &quot;110.0000&quot;,
</span><span class="token prefix inserted">+</span><span class="token line">               &quot;formatted_price_incl_tax&quot;: &quot;$110.00&quot;,
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">               &quot;total&quot;: &quot;100.0000&quot;,
</span><span class="token prefix unchanged"> </span><span class="token line">               &quot;formatted_total&quot;: &quot;$100.00&quot;,
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">               &quot;total_incl_tax&quot;: &quot;110.0000&quot;,
</span><span class="token prefix inserted">+</span><span class="token line">               &quot;formatted_total_incl_tax&quot;: &quot;$110.00&quot;,
</span><span class="token prefix inserted">+</span><span class="token line">               &quot;discount_amount&quot;: &quot;0.0000&quot;,
</span><span class="token prefix inserted">+</span><span class="token line">               &quot;formatted_discount_amount&quot;: &quot;$0.00&quot;,
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">               &quot;options&quot;: [
</span><span class="token prefix unchanged"> </span><span class="token line">                   {
</span><span class="token prefix unchanged"> </span><span class="token line">                       &quot;option_id&quot;: 7,
</span><span class="token prefix unchanged"> </span><span class="token line">                       &quot;option_label&quot;: &quot;M&quot;,
</span><span class="token prefix unchanged"> </span><span class="token line">                       &quot;attribute_name&quot;: &quot;Size&quot;
</span><span class="token prefix unchanged"> </span><span class="token line">                   },
</span><span class="token prefix unchanged"> </span><span class="token line">                   {
</span><span class="token prefix unchanged"> </span><span class="token line">                       &quot;option_id&quot;: 2,
</span><span class="token prefix unchanged"> </span><span class="token line">                       &quot;option_label&quot;: &quot;Green&quot;,
</span><span class="token prefix unchanged"> </span><span class="token line">                       &quot;attribute_name&quot;: &quot;Color&quot;
</span><span class="token prefix unchanged"> </span><span class="token line">                   }
</span><span class="token prefix unchanged"> </span><span class="token line">               ],
</span><span class="token prefix unchanged"> </span><span class="token line">               &quot;base_image&quot;: {
</span><span class="token prefix unchanged"> </span><span class="token line">                   &quot;small_image_url&quot;: &quot;http://localhost/laravel/bagisto/public/cache/small/product/10/CvW2Q3eP4HNUKpQCjyrMUvnwEypVQZCf1VcLAnH4.webp&quot;,
</span><span class="token prefix unchanged"> </span><span class="token line">                   &quot;medium_image_url&quot;: &quot;http://localhost/laravel/bagisto/public/cache/medium/product/10/CvW2Q3eP4HNUKpQCjyrMUvnwEypVQZCf1VcLAnH4.webp&quot;,
</span><span class="token prefix unchanged"> </span><span class="token line">                   &quot;large_image_url&quot;: &quot;http://localhost/laravel/bagisto/public/cache/large/product/10/CvW2Q3eP4HNUKpQCjyrMUvnwEypVQZCf1VcLAnH4.webp&quot;,
</span><span class="token prefix unchanged"> </span><span class="token line">                   &quot;original_image_url&quot;: &quot;http://localhost/laravel/bagisto/public/cache/original/product/10/CvW2Q3eP4HNUKpQCjyrMUvnwEypVQZCf1VcLAnH4.webp&quot;
</span><span class="token prefix unchanged"> </span><span class="token line">               },
</span><span class="token prefix unchanged"> </span><span class="token line">               &quot;product_url_key&quot;: &quot;omniheat-mens-solid-hooded-puffer-jacket&quot;
</span><span class="token prefix unchanged"> </span><span class="token line">           }
</span><span class="token prefix unchanged"> </span><span class="token line">       ]
</span><span class="token prefix unchanged"> </span><span class="token line">   }
</span></span>}
</code></pre></div><ol start="2"><li>The response for the Shop route <code>shop.api.checkout.cart.store</code> API has been updated. If you are consuming this API, please make the necessary changes. we have refined the exception handling to provide more specific error responses and HTTP_BAD_REQUEST status code, ensuring better feedback for users.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> catch (\Exception $exception) {
</span><span class="token prefix deleted">-</span><span class="token line">   return new JsonResource([
</span><span class="token prefix deleted">-</span><span class="token line">       'redirect_uri' =&gt; route('shop.product_or_category.index', $product-&gt;product-&gt;url_key),
</span><span class="token prefix deleted">-</span><span class="token line">       'message'      =&gt; $exception-&gt;getMessage(),
</span><span class="token prefix deleted">-</span><span class="token line">   ]);
</span><span class="token prefix deleted">-</span><span class="token line"> }
</span></span>
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> catch (\Exception $exception) {
</span><span class="token prefix inserted">+</span><span class="token line">    return response()-&gt;json([
</span><span class="token prefix inserted">+</span><span class="token line">        'redirect_uri' =&gt; route('shop.product_or_category.index', $product-&gt;url_key),
</span><span class="token prefix inserted">+</span><span class="token line">        'message'      =&gt; $exception-&gt;getMessage(),
</span><span class="token prefix inserted">+</span><span class="token line">    ], Response::HTTP_BAD_REQUEST);
</span><span class="token prefix inserted">+</span><span class="token line"> }
</span></span></code></pre></div><ol start="3"><li>The response for the Shop route <code>shop.api.categories.index</code> or <code>/api/categories</code> API has been updated. If you are consuming this API, please make the necessary changes to accommodate the updated response format.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code>{
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   &quot;data&quot;: [
</span><span class="token prefix unchanged"> </span><span class="token line">       {
</span><span class="token prefix unchanged"> </span><span class="token line">           &quot;id&quot;: 2,
</span><span class="token prefix unchanged"> </span><span class="token line">           &quot;parent_id&quot;: 1,
</span><span class="token prefix unchanged"> </span><span class="token line">           &quot;name&quot;: &quot;Men&quot;,
</span><span class="token prefix unchanged"> </span><span class="token line">           &quot;slug&quot;: &quot;men&quot;,
</span><span class="token prefix unchanged"> </span><span class="token line">           &quot;status&quot;: 1,
</span><span class="token prefix unchanged"> </span><span class="token line">           &quot;position&quot;: 1,
</span><span class="token prefix unchanged"> </span><span class="token line">           &quot;display_mode&quot;: &quot;products_and_description&quot;,
</span><span class="token prefix unchanged"> </span><span class="token line">           &quot;description&quot;: &quot;&lt;p&gt;Men&lt;/p&gt;&quot;,
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">           &quot;images&quot;: {
</span><span class="token prefix deleted">-</span><span class="token line">               &quot;banner_url&quot;: null,
</span><span class="token prefix deleted">-</span><span class="token line">               &quot;logo_url&quot;: &quot;https://demo.bagisto.com/bagisto-common/storage/category/2/OYsuHioryn5KrOE7p8wQ2hQ3BReXY5CSbDzhvEk8.webp&quot;
</span><span class="token prefix deleted">-</span><span class="token line">           },
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">           &quot;logo&quot;: {
</span><span class="token prefix inserted">+</span><span class="token line">               &quot;small_image_url&quot;: &quot;http://localhost/laravel/bagisto/public/cache/small/category/2/OYsuHioryn5KrOE7p8wQ2hQ3BReXY5CSbDzhvEk8.webp&quot;,
</span><span class="token prefix inserted">+</span><span class="token line">               &quot;medium_image_url&quot;: &quot;http://localhost/laravel/bagisto/public/cache/medium/category/2/OYsuHioryn5KrOE7p8wQ2hQ3BReXY5CSbDzhvEk8.webp&quot;,
</span><span class="token prefix inserted">+</span><span class="token line">               &quot;large_image_url&quot;: &quot;http://localhost/laravel/bagisto/public/cache/large/category/2/OYsuHioryn5KrOE7p8wQ2hQ3BReXY5CSbDzhvEk8.webp&quot;,
</span><span class="token prefix inserted">+</span><span class="token line">               &quot;original_image_url&quot;: &quot;http://localhost/laravel/bagisto/public/cache/original/category/2/OYsuHioryn5KrOE7p8wQ2hQ3BReXY5CSbDzhvEk8.webp&quot;
</span><span class="token prefix inserted">+</span><span class="token line">           },
</span><span class="token prefix inserted">+</span><span class="token line">           &quot;banner&quot;: {
</span><span class="token prefix inserted">+</span><span class="token line">               &quot;small_image_url&quot;: &quot;http://localhost/laravel/bagisto/public/cache/small/category/2/OYsuHioryn5KrOE7p8wQ2hQ3BReXY5CSbDzhvEk8.webp&quot;,
</span><span class="token prefix inserted">+</span><span class="token line">               &quot;medium_image_url&quot;: &quot;http://localhost/laravel/bagisto/public/cache/medium/category/2/OYsuHioryn5KrOE7p8wQ2hQ3BReXY5CSbDzhvEk8.webp&quot;,
</span><span class="token prefix inserted">+</span><span class="token line">               &quot;large_image_url&quot;: &quot;http://localhost/laravel/bagisto/public/cache/large/category/2/OYsuHioryn5KrOE7p8wQ2hQ3BReXY5CSbDzhvEk8.webp&quot;,
</span><span class="token prefix inserted">+</span><span class="token line">               &quot;original_image_url&quot;: &quot;http://localhost/laravel/bagisto/public/cache/original/category/2/OYsuHioryn5KrOE7p8wQ2hQ3BReXY5CSbDzhvEk8.webp&quot;
</span><span class="token prefix inserted">+</span><span class="token line">           },
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">           &quot;meta&quot;: {
</span><span class="token prefix unchanged"> </span><span class="token line">               &quot;title&quot;: &quot;&quot;,
</span><span class="token prefix unchanged"> </span><span class="token line">               &quot;keywords&quot;: &quot;&quot;,
</span><span class="token prefix unchanged"> </span><span class="token line">               &quot;description&quot;: &quot;&quot;
</span><span class="token prefix unchanged"> </span><span class="token line">           },
</span><span class="token prefix unchanged"> </span><span class="token line">           &quot;translations&quot;: [
</span><span class="token prefix unchanged"> </span><span class="token line">               {
</span><span class="token prefix unchanged"> </span><span class="token line">                   &quot;id&quot;: 2,
</span><span class="token prefix unchanged"> </span><span class="token line">                   &quot;category_id&quot;: 2,
</span><span class="token prefix unchanged"> </span><span class="token line">                   &quot;name&quot;: &quot;Men&quot;,
</span><span class="token prefix unchanged"> </span><span class="token line">                   &quot;slug&quot;: &quot;men&quot;,
</span><span class="token prefix unchanged"> </span><span class="token line">                   &quot;url_path&quot;: &quot;men&quot;,
</span><span class="token prefix unchanged"> </span><span class="token line">                   &quot;description&quot;: &quot;&lt;p&gt;Men&lt;/p&gt;&quot;,
</span><span class="token prefix unchanged"> </span><span class="token line">                   &quot;meta_title&quot;: &quot;&quot;,
</span><span class="token prefix unchanged"> </span><span class="token line">                   &quot;meta_description&quot;: &quot;&quot;,
</span><span class="token prefix unchanged"> </span><span class="token line">                   &quot;meta_keywords&quot;: &quot;&quot;,
</span><span class="token prefix unchanged"> </span><span class="token line">                   &quot;locale_id&quot;: 1,
</span><span class="token prefix unchanged"> </span><span class="token line">                   &quot;locale&quot;: &quot;en&quot;
</span><span class="token prefix unchanged"> </span><span class="token line">               }
</span><span class="token prefix unchanged"> </span><span class="token line">           ],
</span><span class="token prefix unchanged"> </span><span class="token line">           &quot;additional&quot;: []
</span><span class="token prefix unchanged"> </span><span class="token line">       }
</span><span class="token prefix unchanged"> </span><span class="token line">   ]
</span></span>}
</code></pre></div><ol start="4"><li>The response for the Shop route <code>shop.api.products.index</code> or <code>/api/products</code> API has been updated. If you are consuming this API, please make the necessary changes to accommodate the updated response format.</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code>{
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   &quot;data&quot;: [
</span><span class="token prefix unchanged"> </span><span class="token line">       {
</span><span class="token prefix unchanged"> </span><span class="token line">           &quot;id&quot;: 174,
</span><span class="token prefix unchanged"> </span><span class="token line">           &quot;sku&quot;: &quot;COMPLETELOOKSET2023&quot;,
</span><span class="token prefix unchanged"> </span><span class="token line">           &quot;name&quot;: &quot;All-in-One Smart Casual Outfit Set&quot;,
</span><span class="token prefix unchanged"> </span><span class="token line">           &quot;description&quot;: &quot;All-in-One Smart Casual Outfit Set&quot;,
</span><span class="token prefix unchanged"> </span><span class="token line">           &quot;url_key&quot;: &quot;all-in-one-smart-casual-outfit-set&quot;,
</span><span class="token prefix unchanged"> </span><span class="token line">           &quot;base_image&quot;: {
</span><span class="token prefix unchanged"> </span><span class="token line">               &quot;small_image_url&quot;: &quot;http://localhost/laravel/bagisto/public/cache/small/product/174/6zgmyY14TQ2WqCxEEdENs8tSfI6bAJbq0bjljQOq.webp&quot;,
</span><span class="token prefix unchanged"> </span><span class="token line">               &quot;medium_image_url&quot;: &quot;http://localhost/laravel/bagisto/public/cache/medium/product/174/6zgmyY14TQ2WqCxEEdENs8tSfI6bAJbq0bjljQOq.webp&quot;,
</span><span class="token prefix unchanged"> </span><span class="token line">               &quot;large_image_url&quot;: &quot;http://localhost/laravel/bagisto/public/cache/large/product/174/6zgmyY14TQ2WqCxEEdENs8tSfI6bAJbq0bjljQOq.webp&quot;,
</span><span class="token prefix unchanged"> </span><span class="token line">               &quot;original_image_url&quot;: &quot;http://localhost/laravel/bagisto/public/cache/original/product/174/6zgmyY14TQ2WqCxEEdENs8tSfI6bAJbq0bjljQOq.webp&quot;
</span><span class="token prefix unchanged"> </span><span class="token line">           },
</span><span class="token prefix unchanged"> </span><span class="token line">           &quot;images&quot;: [
</span><span class="token prefix unchanged"> </span><span class="token line">               {
</span><span class="token prefix unchanged"> </span><span class="token line">                   &quot;small_image_url&quot;: &quot;http://localhost/laravel/bagisto/public/cache/small/product/174/6zgmyY14TQ2WqCxEEdENs8tSfI6bAJbq0bjljQOq.webp&quot;,
</span><span class="token prefix unchanged"> </span><span class="token line">                   &quot;medium_image_url&quot;: &quot;http://localhost/laravel/bagisto/public/cache/medium/product/174/6zgmyY14TQ2WqCxEEdENs8tSfI6bAJbq0bjljQOq.webp&quot;,
</span><span class="token prefix unchanged"> </span><span class="token line">                   &quot;large_image_url&quot;: &quot;http://localhost/laravel/bagisto/public/cache/large/product/174/6zgmyY14TQ2WqCxEEdENs8tSfI6bAJbq0bjljQOq.webp&quot;,
</span><span class="token prefix unchanged"> </span><span class="token line">                   &quot;original_image_url&quot;: &quot;http://localhost/laravel/bagisto/public/cache/original/product/174/6zgmyY14TQ2WqCxEEdENs8tSfI6bAJbq0bjljQOq.webp&quot;
</span><span class="token prefix unchanged"> </span><span class="token line">               }
</span><span class="token prefix unchanged"> </span><span class="token line">           ],
</span><span class="token prefix unchanged"> </span><span class="token line">           &quot;is_new&quot;: true,
</span><span class="token prefix unchanged"> </span><span class="token line">           &quot;is_featured&quot;: true,
</span><span class="token prefix unchanged"> </span><span class="token line">           &quot;on_sale&quot;: true,
</span><span class="token prefix unchanged"> </span><span class="token line">           &quot;is_saleable&quot;: true,
</span><span class="token prefix unchanged"> </span><span class="token line">           &quot;is_wishlist&quot;: true,
</span><span class="token prefix unchanged"> </span><span class="token line">           &quot;min_price&quot;: &quot;$168.96&quot;,
</span><span class="token prefix unchanged"> </span><span class="token line">           &quot;prices&quot;: {
</span><span class="token prefix unchanged"> </span><span class="token line">               &quot;from&quot;: {
</span><span class="token prefix unchanged"> </span><span class="token line">                   &quot;regular&quot;: {
</span><span class="token prefix unchanged"> </span><span class="token line">                       &quot;price&quot;: &quot;176.9600&quot;,
</span><span class="token prefix unchanged"> </span><span class="token line">                       &quot;formatted_price&quot;: &quot;$176.96&quot;
</span><span class="token prefix unchanged"> </span><span class="token line">                   },
</span><span class="token prefix unchanged"> </span><span class="token line">                   &quot;final&quot;: {
</span><span class="token prefix unchanged"> </span><span class="token line">                       &quot;price&quot;: &quot;168.9600&quot;,
</span><span class="token prefix unchanged"> </span><span class="token line">                       &quot;formatted_price&quot;: &quot;$168.96&quot;
</span><span class="token prefix unchanged"> </span><span class="token line">                   }
</span><span class="token prefix unchanged"> </span><span class="token line">               },
</span><span class="token prefix unchanged"> </span><span class="token line">               &quot;to&quot;: {
</span><span class="token prefix unchanged"> </span><span class="token line">                   &quot;regular&quot;: {
</span><span class="token prefix unchanged"> </span><span class="token line">                       &quot;price&quot;: &quot;176.9600&quot;,
</span><span class="token prefix unchanged"> </span><span class="token line">                       &quot;formatted_price&quot;: &quot;$176.96&quot;
</span><span class="token prefix unchanged"> </span><span class="token line">                   },
</span><span class="token prefix unchanged"> </span><span class="token line">                   &quot;final&quot;: {
</span><span class="token prefix unchanged"> </span><span class="token line">                       &quot;price&quot;: &quot;168.9600&quot;,
</span><span class="token prefix unchanged"> </span><span class="token line">                       &quot;formatted_price&quot;: &quot;$168.96&quot;
</span><span class="token prefix unchanged"> </span><span class="token line">                   }
</span><span class="token prefix unchanged"> </span><span class="token line">               }
</span><span class="token prefix unchanged"> </span><span class="token line">           },
</span><span class="token prefix unchanged"> </span><span class="token line">           &quot;price_html&quot;: &quot;&lt;div class=\&quot;grid gap-1.5\&quot;&gt;\n&lt;p class=\&quot;flex items-center gap-4 max-sm:text-lg\&quot;&gt;\n&lt;span\nclass=\&quot;text-zinc-500 line-through max-sm:text-base\&quot;\n    aria-label=\&quot;$176.96\&quot;\n&gt;\n$176.96\n&lt;/span&gt;\n\n$168.96\n&lt;/p&gt;\n\n&lt;/div&gt;&quot;,
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">           &quot;avg_ratings&quot;: 4.5,
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">           &quot;ratings&quot;: {
</span><span class="token prefix inserted">+</span><span class="token line">               &quot;average&quot;: &quot;2.0&quot;,
</span><span class="token prefix inserted">+</span><span class="token line">               &quot;total&quot;: 2
</span><span class="token prefix inserted">+</span><span class="token line">           }
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">       }
</span><span class="token prefix unchanged"> </span><span class="token line">   ]
</span></span>}
</code></pre></div><p><a name="the-admin-shop-menu-updates"></a></p> <h4 id="admin-and-shop-menu-updates"><a href="#admin-and-shop-menu-updates" class="header-anchor">#</a> Admin and Shop Menu Updates</h4> <p><strong>Impact Probability: High</strong></p> <ol><li>Previously, the composeView method included logic to share a dynamically generated menu structure with several Blade views in the admin interface. This logic has been removed. Heres a detailed breakdown of what was removed:</li></ol> <h4 id="for-admin-package"><a href="#for-admin-package" class="header-anchor">#</a> For <code>Admin</code> package.</h4> <div class="language-diff extra-class"><pre class="language-diff"><code>class AdminServiceProvider extends ServiceProvider
{
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   protected function composeView()
</span><span class="token prefix unchanged"> </span><span class="token line">   {
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">       view()-&gt;composer([
</span><span class="token prefix deleted">-</span><span class="token line">           'admin::components.layouts.header.index',
</span><span class="token prefix deleted">-</span><span class="token line">           'admin::components.layouts.sidebar.index',
</span><span class="token prefix deleted">-</span><span class="token line">           'admin::components.layouts.tabs',
</span><span class="token prefix deleted">-</span><span class="token line">       ], function ($view) {
</span><span class="token prefix deleted">-</span><span class="token line">           $tree = Tree::create();
</span><span class="token prefix deleted">-</span><span class="token line"> 
</span><span class="token prefix deleted">-</span><span class="token line">           foreach (config('menu.admin') as $index =&gt; $item) {
</span><span class="token prefix deleted">-</span><span class="token line">               if (! bouncer()-&gt;hasPermission($item['key'])) {
</span><span class="token prefix deleted">-</span><span class="token line">                   continue;
</span><span class="token prefix deleted">-</span><span class="token line">               }
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">               $tree-&gt;add($item, 'menu');
</span><span class="token prefix deleted">-</span><span class="token line">           }
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">           $tree-&gt;items = $tree-&gt;removeUnauthorizedUrls();
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">           $tree-&gt;items = core()-&gt;sortItems($tree-&gt;items);
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">           $view-&gt;with('menu', $tree);
</span><span class="token prefix deleted">-</span><span class="token line">       });
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">       view()-&gt;composer([
</span><span class="token prefix unchanged"> </span><span class="token line">           'admin::settings.roles.create',
</span><span class="token prefix unchanged"> </span><span class="token line">           'admin::settings.roles.edit',
</span><span class="token prefix unchanged"> </span><span class="token line">       ], function ($view) {
</span><span class="token prefix unchanged"> </span><span class="token line">           $view-&gt;with('acl', $this-&gt;createACL());
</span><span class="token prefix unchanged"> </span><span class="token line">       });
</span><span class="token prefix unchanged"> </span><span class="token line">   }
</span></span>}
</code></pre></div><h4 id="for-shop-package"><a href="#for-shop-package" class="header-anchor">#</a> For <code>Shop</code> package.</h4> <div class="language-diff extra-class"><pre class="language-diff"><code>class ShopServiceProvider extends ServiceProvider
{
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">   protected function composeView()
</span><span class="token prefix deleted">-</span><span class="token line">   {
</span><span class="token prefix deleted">-</span><span class="token line">       view()-&gt;composer('shop::customers.account.partials.sidemenu', function ($view) {
</span><span class="token prefix deleted">-</span><span class="token line">           $tree = Tree::create();
</span><span class="token prefix deleted">-</span><span class="token line">           foreach (config('menu.customer') as $item) {
</span><span class="token prefix deleted">-</span><span class="token line">               $tree-&gt;add($item, 'menu');
</span><span class="token prefix deleted">-</span><span class="token line">           }
</span><span class="token prefix deleted">-</span><span class="token line">           $tree-&gt;items = core()-&gt;sortItems($tree-&gt;items);
</span><span class="token prefix deleted">-</span><span class="token line">           $view-&gt;with('menu', $tree);
</span><span class="token prefix deleted">-</span><span class="token line">       });
</span><span class="token prefix deleted">-</span><span class="token line">   }
</span></span>}
</code></pre></div><h4 id="how-to-use-it"><a href="#how-to-use-it" class="header-anchor">#</a> How to use it?</h4> <h5 id="for-admin-package-2"><a href="#for-admin-package-2" class="header-anchor">#</a> For <code>Admin</code> package.</h5> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">    @foreach ($menu-&gt;items as $menuItem)
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">    @foreach (menu()-&gt;getItems('admin') as $menuItem)
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">       &lt;div
</span><span class="token prefix unchanged"> </span><span class="token line">           class=&quot;px-4 group/item {{ $menu-&gt;getActive($menuItem) ? 'active' : 'inactive' }}&quot;
</span><span class="token prefix unchanged"> </span><span class="token line">           onmouseenter=&quot;adjustSubMenuPosition(event)&quot;
</span><span class="token prefix unchanged"> </span><span class="token line">       &gt;
</span><span class="token prefix unchanged"> </span><span class="token line">       ...
</span><span class="token prefix unchanged"> </span><span class="token line">   @endforeach
</span></span>
</code></pre></div><h5 id="for-shop-package-2"><a href="#for-shop-package-2" class="header-anchor">#</a> For <code>Shop</code> package.</h5> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">    @foreach ($menu-&gt;items as $menuItem)
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">    @foreach (menu()-&gt;getItems('customer') as $menuItem)
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">       &lt;div class=&quot;max-md:rounded-md max-md:border max-md:border-b max-md:border-l-[1px] max-md:border-r max-md:border-t-0 max-md:border-zinc-200&quot;&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">           &lt;v-account-navigation&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">       ...
</span><span class="token prefix unchanged"> </span><span class="token line">   @endforeach
</span></span>
</code></pre></div><p>The getItems() methods of the menu() facade accept different areas of the menu. For example, for the admin area, you need to provide the config name of the menu, whereas for the shop area, you should provide the name 'customer'.</p> <p><a name="the-admin-acl-updates"></a></p> <h4 id="admin-acl-updates"><a href="#admin-acl-updates" class="header-anchor">#</a> Admin ACL Updates</h4> <p><strong>Impact Probability: High</strong></p> <ol><li>Previously, the composeView method included logic to share a dynamically generated acl structure with several Blade views in the admin interface. This logic has been removed. Heres a detailed breakdown of what was removed:</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code>class AdminServiceProvider extends ServiceProvider
{
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   public function boot(Router $router)
</span><span class="token prefix unchanged"> </span><span class="token line">   {
</span><span class="token prefix unchanged"> </span><span class="token line">       ...
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">        $this-&gt;registerACL();
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">       ...
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">       $this-&gt;app-&gt;register(EventServiceProvider::class);
</span><span class="token prefix unchanged"> </span><span class="token line">   }
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">   protected function composeView()
</span><span class="token prefix deleted">-</span><span class="token line">   {
</span><span class="token prefix deleted">-</span><span class="token line">       view()-&gt;composer([
</span><span class="token prefix deleted">-</span><span class="token line">           'admin::settings.roles.create',
</span><span class="token prefix deleted">-</span><span class="token line">           'admin::settings.roles.edit',
</span><span class="token prefix deleted">-</span><span class="token line">       ], function ($view) {
</span><span class="token prefix deleted">-</span><span class="token line">           $view-&gt;with('acl', $this-&gt;createACL());
</span><span class="token prefix deleted">-</span><span class="token line">       });
</span><span class="token prefix deleted">-</span><span class="token line">   }
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">    protected function registerACL()
</span><span class="token prefix deleted">-</span><span class="token line">    {
</span><span class="token prefix deleted">-</span><span class="token line">        $this-&gt;app-&gt;singleton('acl', function () {
</span><span class="token prefix deleted">-</span><span class="token line">            return $this-&gt;createACL();
</span><span class="token prefix deleted">-</span><span class="token line">        });
</span><span class="token prefix deleted">-</span><span class="token line">    }
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">    protected function createACL()
</span><span class="token prefix deleted">-</span><span class="token line">    {
</span><span class="token prefix deleted">-</span><span class="token line">        static $tree;
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">        if ($tree) {
</span><span class="token prefix deleted">-</span><span class="token line">            return $tree;
</span><span class="token prefix deleted">-</span><span class="token line">        }
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">        $tree = Tree::create();
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">        foreach (config('acl') as $item) {
</span><span class="token prefix deleted">-</span><span class="token line">            $tree-&gt;add($item, 'acl');
</span><span class="token prefix deleted">-</span><span class="token line">        }
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">        $tree-&gt;items = core()-&gt;sortItems($tree-&gt;items);
</span><span class="token prefix deleted">-</span><span class="token line">
</span><span class="token prefix deleted">-</span><span class="token line">        return $tree;
</span><span class="token prefix deleted">-</span><span class="token line">    }
</span></span>}
</code></pre></div><h4 id="how-to-use-it-2"><a href="#how-to-use-it-2" class="header-anchor">#</a> How to use it?</h4> <h5 id="get-all-acl-items"><a href="#get-all-acl-items" class="header-anchor">#</a> Get all acl items.</h5> <div class="language-php extra-class"><pre class="language-php"><code>    <span class="token variable">$acl</span> <span class="token operator">=</span> <span class="token function">acl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">getItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="get-all-roles"><a href="#get-all-roles" class="header-anchor">#</a> Get all roles.</h5> <div class="language-php extra-class"><pre class="language-php"><code>    <span class="token variable">$roles</span> <span class="token operator">=</span> <span class="token function">acl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">getRoles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="renamed-star-rating-blade"></a></p> <h4 id="renamed-star-rating-blade-php"><a href="#renamed-star-rating-blade-php" class="header-anchor">#</a> Renamed <code>star-rating.blade.php</code></h4> <p><strong>Impact Probability: Low</strong></p> <ol><li>The file <code>packages/Webkul/Shop/src/Resources/views/components/products/star-rating.blade.php</code> has been renamed to the <code>packages/Webkul/Shop/src/Resources/views/components/products/ratings.blade.php</code>.</li></ol> <p><a name="moved-coupon-blade"></a></p> <h4 id="moved-coupon-blade-php"><a href="#moved-coupon-blade-php" class="header-anchor">#</a> Moved <code>coupon.blade.php</code></h4> <p><strong>Impact Probability: Low</strong></p> <ol><li>The file <code>packages/Webkul/Shop/src/Resources/views/checkout/cart/coupon.blade.php</code> has been relocated to the <code>packages/Webkul/Shop/src/Resources/views/checkout/coupon.blade.php</code> directory. This move was made because the file is included on both the checkout and cart pages.</li></ol> <p><a name="tax"></a></p> <h3 id="tax"><a href="#tax" class="header-anchor">#</a> Tax</h3> <p><a name="moved-tax-helper-class"></a></p> <h4 id="the-webkul-tax-helpers-tax-class-moved"><a href="#the-webkul-tax-helpers-tax-class-moved" class="header-anchor">#</a> The <code>Webkul\Tax\Helpers\Tax</code> Class Moved</h4> <p><strong>Impact Probability: Low</strong></p> <p>1: The <code>Webkul\Tax\Helpers\Tax</code> class has been replaced with <code>Webkul\Tax\Tax</code>. Now, the <code>Webkul\Tax\Tax</code> class is bound to the <code>Webkul\Tax\Facades\Tax</code> facade, and all static methods have been converted to normal methods. However, you can still access these methods as static methods using the <code>Webkul\Tax\Facades\Tax</code> facade.</p> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public static function isTaxInclusive(): bool
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> public function isInclusiveTaxProductPrices(): bool
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public static function getTaxRatesWithAmount(object $that, bool $asBase = false): array
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> public function getTaxRatesWithAmount(object $that, bool $asBase = false): array
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public static function getTaxTotal(object $that, bool $asBase = false): float
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public static function getDefaultAddress()
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> public function getDefaultAddress(): object
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> public static function isTaxApplicableInCurrentAddress($taxCategory, $address, $operation)
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> public function isTaxApplicableInCurrentAddress($taxCategory, $address, $operation): void
</span></span></code></pre></div><p>2: The new class for handling shipping tax inclusion now includes two additional methods: <code>isInclusiveTaxShippingPrices</code> and <code>getShippingOriginAddress</code>.</p> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> public function isInclusiveTaxShippingPrices(): bool
</span></span>
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> public function getShippingOriginAddress(): object
</span></span></code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/bagisto/bagisto-docs/edit/master/docs/2.2/prologue/upgrade-guide.md" target="_blank" rel="noopener noreferrer">Help us improve this page on Github.</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">1/29/2025, 10:11:26 AM</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/2.2/prologue/contribution-guide.html">
         Contribution Guide
      </a>
      
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.ebd8e8a1.js" defer></script><script src="/assets/js/2.1fed2c7a.js" defer></script><script src="/assets/js/1.4392f29c.js" defer></script><script src="/assets/js/307.eba06f31.js" defer></script>
  </body>
</html>
